(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{40466:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return t(77888)}])},41574:function(e,n,t){"use strict";var i=t(47568),r=t(10092),s=t(85893),a=t(67294),o=t(45697),l=t.n(o),c=t(5616),u=t(65582),d=t(15861),h=function(e){var n=e.title,o=e.heading,l=e.subtitle,h=e.image;return(0,a.useEffect)(function(){var e;(e=(0,i.Z)(function(){var e,n;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(!(e=document.querySelectorAll(".jarallax"))||e&&0===e.length)return[2];return[4,t.e(14).then(t.bind(t,21014))];case 1:return(0,n.sent().jarallax)(e,{speed:.2}),[2]}})}),function(){return e.apply(this,arguments)})()}),(0,s.jsxs)(c.Z,{className:"jarallax","data-jarallax":!0,"data-speed":"0.2",position:"relative",minHeight:{xs:400,sm:500,md:600},display:"flex",alignItems:"center",id:"agency__portfolio-item--js-scroll",children:[(0,s.jsx)(c.Z,{className:"jarallax-img",sx:{position:"absolute",objectFit:"cover",fontFamily:"object-fit: cover;",top:0,left:0,width:"100%",height:"100%",zIndex:-1,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(h,")")}}),(0,s.jsxs)(u.Z,{position:"relative",zindex:3,children:[(0,s.jsx)(d.Z,{sx:{textTransform:"uppercase",fontWeight:"medium"},gutterBottom:!0,align:"center",children:n}),(0,s.jsx)(c.Z,{marginBottom:2,children:(0,s.jsx)(d.Z,{variant:"h2",align:"center",sx:{fontWeight:700},children:o})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(d.Z,{variant:"h6",align:"center",children:l})})]})]})};h.propTypes={title:l().string,headline:l().string,subtitle:l().string,image:l().string},n.Z=h},77888:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var i=t(85893),r=t(67294),s=t(5616),a=t(2734),o=t(80008),l=t(33338),c=t(41574),u=t(5101),d=t(47568),h=t(10092),m=t(82175),x=t(74231),f=t(86886),g=t(15861),p=t(93946),j=t(57922),b=t(21737),Z=t(37526),v=t(8987),y=t(35544),w=t(17422),C=t(95537),S=t(35365),_=t(43282),P=t(45697),A=t.n(P),k=t(78262),B=t(25662),W=t(35886),T=function(e){var n=e.open,t=e.onClose,r=e.title,a=e.message,o=e.buttonLink,l=e.buttonText;return(0,i.jsx)(k.Z,{onClose:t,open:n,maxWidth:"sm",sx:{"& .MuiPaper-root":{borderRadius:4}},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",paddingY:{xs:4,sm:10},paddingX:{xs:4,sm:12}},children:[(0,i.jsx)(W.Z,{sx:{fontSize:50}}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(g.Z,{component:"span",fontWeight:700,children:r})}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(g.Z,{component:"span",fontWeight:500,children:a})}),(0,i.jsx)(f.ZP,{container:!0,spacing:2,sx:{marginY:4},children:(0,i.jsx)(f.ZP,{item:!0,xs:12,children:(0,i.jsx)(B.Z,{href:o,size:"large",variant:"contained",fullWidth:!0,children:l})})}),(0,i.jsx)(g.Z,{align:"center",sx:{textDecoration:"underline",cursor:"pointer"},onClick:t,children:"Close"})]})})};T.propTypes={onClose:A().func.isRequired,open:A().bool.isRequired,title:A().string,message:A().string,buttonText:A().string,buttonLink:A().string};var z=t(37918),N=t.n(z),I=t(42484),E=t.n(I),M=t(55932),R=t(48764).Buffer,D=x.Ry({name:x.Z_().trim().min(2,"Name too short").max(50,"Name too long").required("Please specify the name"),description:x.Z_().trim().required("Please describe your project"),beneficiary:x.Z_().min(6,"Beneficiary address should be correct").required("Please specify beneficiary address").matches(/0x[a-fA-F0-9]{40}/,"Enter correct wallet address!")}),q=function(){var e,n,t,a,o,l=(0,m.TA)({initialValues:{name:"",description:"",beneficiary:"",goalAmount:""},validationSchema:D,onSubmit:function(e){console.log(e),V(!0),function(){ea.apply(this,arguments)}()}}),c=(0,r.useState)(null),u=c[0],x=c[1],P=(0,r.useState)(null),A=(P[0],P[1]),k=(0,r.useState)(""),B=k[0],W=k[1],z=(0,r.useState)(null),I=z[0],q=z[1],F=(0,r.useState)(!1),H=F[0],Y=F[1],L=(0,r.useState)(!1),O=L[0],G=L[1],J=(0,r.useState)(!1),U=J[0],V=J[1],X=(0,r.useState)(!1),K=X[0],Q=X[1],$=(0,r.useState)(""),ee=$[0],en=$[1],et="Basic "+R.from(":M60pMM23x4YHT6IJZYMkCPAiNODPJv3pxTrHWYlcRREhmSKbAu39nA").toString("base64"),ei=(0,M.Ue)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:et}});(0,r.useEffect)(function(){er()},[]);var er=(o=(0,d.Z)(function(){var e,n,t,i,r,s,a,o;return(0,h.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,new(E())({network:"mainnet",cacheProvider:!0}).connect()];case 1:return n=e.sent(),[4,(t=new(N())(n)).eth.net.getId()];case 2:return i=e.sent(),r=_.QW[i],[4,t.eth.getAccounts()];case 3:return s=e.sent(),a=new t.eth.Contract(_.Mt,r&&r.address),A(t),x(a),q(s),[3,5];case 4:return o=e.sent(),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(o),[3,5];case 5:return[2]}})}),function(){return o.apply(this,arguments)});function es(){return(es=(0,d.Z)(function(e){var n,t,i,r;return(0,h.__generator)(this,function(i){switch(i.label){case 0:n=e.target.files[0],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,ei.add(n,{progress:function(e){return console.log("received: ".concat(e))}})];case 2:return t=i.sent(),W("https://ac12644.infura-ipfs.io/ipfs/".concat(t.path)),console.log(B),Y(!0),[3,4];case 3:return r=i.sent(),console.log("Error uploading file: ",r),V(!1),G(!0),[3,4];case 4:return[2]}})})).apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function(){var e,n,t,i,r,s,a,o;return(0,h.__generator)(this,function(a){switch(a.label){case 0:n=(e=l.values).name,t=e.description,i=e.beneficiary,s=JSON.stringify({name:n,image:B,description:t,goalAmount:r=e.goalAmount,beneficiary:i}),console.log(s),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.methods.createFundraiser(n,B,t,r,i).send({from:I[0]})];case 2:return en(a.sent().transactionHash),Q(!0),G(!1),console.log(ee),l.resetForm(),Y(!1),V(!1),[3,4];case 3:return alert(a.sent()),V(!1),[3,4];case 4:return V(!1),[2]}})})).apply(this,arguments)}return(0,i.jsxs)(s.Z,{children:[(0,i.jsx)("form",{onSubmit:l.handleSubmit,children:(0,i.jsxs)(f.ZP,{container:!0,spacing:4,children:[(0,i.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsxs)(g.Z,{variant:"subtitle2",sx:{marginBottom:2,display:"flex",alignItems:"center"},fontWeight:700,children:[(0,i.jsx)(y.Z,{fontSize:"medium"}),"Upload an image *"]}),(0,i.jsx)("input",{type:"file",name:"images",accept:"image/apng, image/avif, image/gif, image/jpeg, image/png, image/svg+xml, image/webp",id:"upload",onChange:function(e){return es.apply(this,arguments)},style:{display:"none",cursor:"pointer"}}),(0,i.jsx)(p.Z,{"aria-label":"upload",size:"small",children:(0,i.jsx)("label",{htmlFor:"upload",children:(0,i.jsx)(w.Z,{fontSize:"large"})})}),(0,i.jsx)(j.Z,{in:H,children:(0,i.jsx)(b.Z,{severity:"success",sx:{mt:1},action:(0,i.jsx)(p.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){Y(!1)},children:(0,i.jsx)(C.Z,{fontSize:"inherit"})}),children:"File uploaded successfully!"})}),(0,i.jsx)(s.Z,{sx:{width:"100%"},children:(0,i.jsx)(j.Z,{in:O,children:(0,i.jsx)(b.Z,{severity:"error",action:(0,i.jsx)(p.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){G(!1)},children:(0,i.jsx)(C.Z,{fontSize:"inherit"})}),sx:{mb:2},children:"Please upload a file!"})})})]}),(0,i.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(g.Z,{variant:"subtitle2",sx:{marginBottom:2},fontWeight:700,children:"Project *"}),(0,i.jsx)(Z.Z,{label:"Name of your project",variant:"outlined",name:"name",fullWidth:!0,onChange:l.handleChange,value:null===(e=l.values)||void 0===e?void 0:e.name,error:l.touched.name&&Boolean(l.errors.name),helperText:l.touched.name&&l.errors.name})]}),(0,i.jsxs)(f.ZP,{item:!0,xs:12,children:[(0,i.jsx)(g.Z,{variant:"subtitle2",sx:{marginBottom:2},fontWeight:700,children:"Description *"}),(0,i.jsx)(Z.Z,{label:"Describe your project",variant:"outlined",name:"description",multiline:!0,rows:5,fullWidth:!0,onChange:l.handleChange,value:null===(n=l.values)||void 0===n?void 0:n.description,error:l.touched.description&&Boolean(l.errors.description),helperText:l.touched.description&&l.errors.description})]}),(0,i.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(s.Z,{display:"flex",alignItems:"center",children:(0,i.jsx)(g.Z,{variant:"subtitle2",sx:{marginBottom:2},children:"Beneficiary Address *"})}),(0,i.jsx)(Z.Z,{label:"Wallet address 0x...",variant:"outlined",name:"beneficiary",fullWidth:!0,onChange:l.handleChange,value:null===(t=l.values)||void 0===t?void 0:t.beneficiary,error:l.touched.beneficiary&&Boolean(l.errors.beneficiary),helperText:l.touched.beneficiary&&l.errors.beneficiary})]}),(0,i.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(g.Z,{variant:"subtitle2",sx:{marginBottom:2},fontWeight:700,children:"Goal amount (in USD)"}),(0,i.jsx)(Z.Z,{label:"Amount needed for project",variant:"outlined",name:"goalAmount",fullWidth:!0,onChange:l.handleChange,value:null===(a=l.values)||void 0===a?void 0:a.goalAmount,error:l.touched.goalAmount&&Boolean(l.errors.goalAmount),helperText:l.touched.goalAmount&&l.errors.goalAmount})]}),(0,i.jsx)(f.ZP,{item:!0,container:!0,xs:12,children:(0,i.jsx)(s.Z,{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"stretched",sm:"center"},justifyContent:"center",width:1,margin:"0 auto",children:(0,i.jsx)(v.Z,{endIcon:(0,i.jsx)(S.Z,{}),size:"large",variant:"contained",type:"submit",loading:U,loadingPosition:"end",children:"Create"})})})]})}),(0,i.jsx)(T,{open:K,onClose:function(){return Q(!1)},title:"Thank you!",message:"Campaign created successfully with transaction hash: ".concat(ee),buttonText:"View on polygonscan",buttonLink:"https://mumbai.polygonscan.com/tx/".concat(ee)})]})};function F(){var e=(0,a.Z)();return(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.Z,{image:"https://images.unsplash.com/photo-1633158829875-e5316a358c6f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80",title:"Require funding!",heading:"Submit your project.",subtitle:"Raise funding without any fees."})}),(0,i.jsx)(l.Z,{paddingY:3,children:(0,i.jsx)(q,{})}),(0,i.jsxs)(s.Z,{position:"relative",marginTop:{xs:4,md:6},sx:{backgroundColor:e.palette.alternate.main},children:[(0,i.jsx)(s.Z,{component:"svg",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 1920 100.1",sx:{position:"absolute",top:0,left:0,right:0,transform:"translateY(-50%)",zIndex:2,width:1},children:(0,i.jsx)("path",{fill:e.palette.alternate.main,d:"M0,0c0,0,934.4,93.4,1920,0v100.1H0L0,0z"})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(u.Z,{})})]})]})}var H=function(){return(0,i.jsx)(F,{})}},63897:function(){}},function(e){e.O(0,[277,543,16,715,643,718,739,705,774,888,179],function(){return e(e.s=40466)}),_N_E=e.O()}]);