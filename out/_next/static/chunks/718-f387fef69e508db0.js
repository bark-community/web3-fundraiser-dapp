(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{17422:function(e,t,r){"use strict";var n=r(88169),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8zM5 19l3-4 2 3 3-4 4 5z"}),"AddPhotoAlternate")},35544:function(e,t,r){"use strict";var n=r(88169),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile")},35365:function(e,t,r){"use strict";var n=r(88169),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},35886:function(e,t,r){"use strict";var n=r(88169),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism")},65582:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n=r(63366),i=r(87462),o=r(67294),s=r(90512),a=r(8027),u=r(58510),c=r(62908),l=r(29628),f=r(45098),h=r(17172),d=r(85893);let p=["className","component","disableGutters","fixed","maxWidth","classes"],y=(0,h.Z)(),b=(0,f.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver(e,t){let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,c.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),g=e=>(0,l.Z)({props:e,name:"MuiContainer",defaultTheme:y}),m=(e,t)=>{let r=e=>(0,a.ZP)(t,e),{classes:n,fixed:i,disableGutters:o,maxWidth:s}=e,l={root:["root",s&&`maxWidth${(0,c.Z)(String(s))}`,i&&"fixed",o&&"disableGutters"]};return(0,u.Z)(l,r,n)};function w(e={}){let{createStyledComponent:t=b,useThemeProps:r=g,componentName:a="MuiContainer"}=e,u=t(({theme:e,ownerState:t})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let n=r,i=e.breakpoints.values[n];return 0!==i&&(t[e.breakpoints.up(n)]={maxWidth:`${i}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,i.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),c=o.forwardRef(function(e,t){let o=r(e),{className:c,component:l="div",disableGutters:f=!1,fixed:h=!1,maxWidth:y="lg"}=o,b=(0,n.Z)(o,p),g=(0,i.Z)({},o,{component:l,disableGutters:f,fixed:h,maxWidth:y}),w=m(g,a);return(0,d.jsx)(u,(0,i.Z)({as:l,ownerState:g,className:(0,s.Z)(w.root,c),ref:t},b))});return c}var v=r(98216),E=r(90948),x=r(71657);let A=w({createStyledComponent:(0,E.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver(e,t){let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,v.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,x.Z)({props:e,name:"MuiContainer"})});var C=A},34537:function(e){"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o){if(o=!1,e)s(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(a){o&&(o=!1,s(a))}})}e.exports=t},97419:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,u=0;t<r;){var c=e[t++];switch(u){case 0:s[a++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:s[a++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:s[a++]=n[i|c>>6],s[a++]=n[63&c],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return(u&&(s[a++]=n[i],s[a++]=61,1===u&&(s[a++]=61)),o)?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error(s);switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},19211:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},10945:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s,a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=(s>>31)*2+1,u=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},67199:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},76662:function(e){"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=(7|s)+1),a}}e.exports=t},94997:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):(64512&n)==55296&&(64512&(i=e.charCodeAt(s+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},32044:function(e){function t(e){let t=new globalThis.AbortController;function r(){for(let n of(t.abort(),e))n&&n.removeEventListener&&n.removeEventListener("abort",r)}for(let n of e)if(n&&n.addEventListener){if(n.aborted){r();break}n.addEventListener("abort",r)}return t.signal}e.exports=t,e.exports.anySignal=t},11227:function(e,t,r){var n=r(34155);t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.storage=c();let i;function o(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(r){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.destroy=(i=!1,()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(82447)(t);let{formatters:l}=e.exports;l.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},82447:function(e,t,r){function n(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r=null,o,s;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date),o=i-(t||i);r.diff=o,r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";s++;let o=n.formatters[i];if("function"==typeof o){let a=e[s];t=o.call(r,a),e.splice(s,1),s--}return t}),n.formatArgs.call(r,e);let u=r.log||n.log;u.apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=i,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(o!==n.namespaces&&(o=n.namespaces,s=n.enabled(e)),s),set(e){r=e}}),"function"==typeof n.init&&n.init(a),a}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){n.save(e),n.namespaces=e,n.names=[],n.skips=[];let t,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(RegExp("^"+e.slice(1)+"$")):n.names.push(RegExp("^"+e+"$")))}function s(){let e=[...n.names.map(u),...n.skips.map(u).map(e=>"-"+e)].join(",");return n.enable(""),e}function a(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function c(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=o,n.enabled=a,n.humanize=r(57824),n.destroy=l,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}e.exports=n},32114:function(e){"use strict";function t(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function r(e,r,n){if(!e||"string"==typeof e)throw TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(s){n.message=e.message,n.stack=e.stack;let i=function(){};i.prototype=Object.create(Object.getPrototypeOf(e));let o=t(new i,n);return o}}e.exports=r},7050:function(e,t,r){"use strict";e.exports=r(91120)},91120:function(e,t,r){"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(55126),n.BufferWriter=r(93228),n.Reader=r(51713),n.BufferReader=r(82301),n.util=r(57189),n.rpc=r(9006),n.roots=r(25694),n.configure=i,i()},51713:function(e,t,r){"use strict";e.exports=u;var n,i=r(57189),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function h(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=f(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},82301:function(e,t,r){"use strict";e.exports=o;var n=r(51713);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(57189);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},25694:function(e){"use strict";e.exports={}},9006:function(e,t,r){"use strict";t.Service=r(88856)},88856:function(e,t,r){"use strict";e.exports=i;var n=r(57189);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r){a.end(!0);return}if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(n){return a.emit("error",n,t),s(n)}return a.emit("data",r,t),s(null,r)})}catch(u){a.emit("error",u,t),setTimeout(function(){s(u)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},85789:function(e,t,r){"use strict";e.exports=i;var n=r(57189);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},57189:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(34537),n.base64=r(97419),n.EventEmitter=r(19211),n.float=r(10945),n.inquire=r(67199),n.utf8=r(94997),n.pool=r(76662),n.LongBits=r(85789),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},55126:function(e,t,r){"use strict";e.exports=f;var n,i=r(57189),o=i.LongBits,s=i.base64,a=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function y(e,t){this.len=e,this.next=void 0,this.val=t}function b(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=h(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},y.prototype=Object.create(u.prototype),y.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new y((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(b,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(b,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(b,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=f.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},f.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=h(),n._configure()}},93228:function(e,t,r){"use strict";e.exports=o;var n=r(55126);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(57189);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},74449:function(e){"use strict";async function*t(e,t={}){let r=e.getReader();try{for(;;){let n=await r.read();if(n.done)return;yield n.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}e.exports=t},42413:function(e,t,r){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:r(83300).default,Headers:r(83300).Headers,Request:r(83300).Request,Response:r(83300).Response}},106:function(e,t,r){"use strict";var n=r(34155);let i=r(59134),o="object"==typeof window&&"object"==typeof document&&9===document.nodeType,s=i(),a=o&&!s,u=s&&!o,c=s&&o,l=void 0!==n&&void 0!==n.release&&"node"===n.release.name&&!s,f="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,h=void 0!==n&&void 0!==n.env&&!1,d="undefined"!=typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:h,isElectron:s,isElectronMain:u,isElectronRenderer:c,isNode:l,isBrowser:a,isWebWorker:f,isEnvWithDom:o,isReactNative:d}},38688:function(e,t,r){"use strict";e.exports=r(42413)},46953:function(e,t,r){"use strict";let n=r(67137),i=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:o(e,t)});async function*o(e,t){let r=new n,i=await r.get(e,t);yield*i.iterator()}e.exports=i},67137:function(e,t,r){"use strict";let{fetch:n,Request:i,Headers:o}=r(50730),{TimeoutError:s,HTTPError:a}=r(44171),u=r(70942).bind({ignoreUndefined:!0}),{URL:c,URLSearchParams:l}=r(17745),f=r(32044),h=r(74449),{isBrowser:d,isWebWorker:p}=r(106),y=r(31303),b=(e,t,r)=>{if(void 0===t)return e;let n=Date.now(),i=()=>{let e=Date.now()-n;return e>=t};return new Promise((n,o)=>{let a=setTimeout(()=>{i()&&(o(new s),r.abort())},t),u=e=>{let t=t=>{if(clearTimeout(a),i()){o(new s);return}e(t)};return t};e.then(u(n),u(o))})},g={throwHttpErrors:!0,credentials:"same-origin"};class m{constructor(e={}){this.opts=u(g,e)}async fetch(e,t={}){let r=u(this.opts,t),s=new o(r.headers);if("string"!=typeof e&&!(e instanceof c||e instanceof i))throw TypeError("`resource` must be a string, URL, or Request");let g=new c(e.toString(),r.base),{searchParams:m,transformSearchParams:E,json:x}=r;m&&("function"==typeof E?g.search=E(new l(r.searchParams)):g.search=new l(r.searchParams)),x&&(r.body=JSON.stringify(r.json),s.set("content-type","application/json"));let A=new AbortController,C=f([A.signal,r.signal]);null!=globalThis.ReadableStream&&r.body instanceof globalThis.ReadableStream&&(d||p)&&(r.body=new Blob(await y(h(r.body))));let S=await b(n(g.toString(),{...r,signal:C,timeout:void 0,headers:s,duplex:"half"}),r.timeout,A);if(!S.ok&&r.throwHttpErrors)throw r.handleError&&await r.handleError(S),new a(S);return S.iterator=async function*(){yield*v(S.body)},S.ndjson=async function*(){for await(let e of w(S.iterator()))t.transform?yield t.transform(e):yield e},S}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}}let w=async function*(e){let t=new TextDecoder,r="";for await(let n of e){r+=t.decode(n,{stream:!0});let i=r.split(/\r?\n/);for(let o=0;o<i.length-1;o++){let s=i[o].trim();s.length>0&&(yield JSON.parse(s))}r=i[i.length-1]}r+=t.decode(),0!==(r=r.trim()).length&&(yield JSON.parse(r))},v=e=>{if(E(e))return e;if(A(e)){let t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:r=>(e.destroy(),"function"==typeof t.return)?t.return():Promise.resolve({done:!0,value:r})})}}if(x(e)){let r=e.getReader();return async function*(){try{for(;;){let{done:e,value:t}=await r.read();if(e)return;t&&(yield t)}}finally{r.releaseLock()}}()}throw TypeError("Body can't be converted to AsyncIterable")},E=e=>"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator],x=e=>e&&"function"==typeof e.getReader,A=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");m.HTTPError=a,m.TimeoutError=s,m.streamToAsyncIterator=v,m.post=(e,t)=>new m(t).post(e,t),m.get=(e,t)=>new m(t).get(e,t),m.put=(e,t)=>new m(t).put(e,t),m.delete=(e,t)=>new m(t).delete(e,t),m.options=(e,t)=>new m(t).options(e,t),e.exports=m},44171:function(e,t){"use strict";class r extends Error{constructor(e="Request timed out"){super(e),this.name="TimeoutError"}}t.TimeoutError=r;class n extends Error{constructor(e="The operation was aborted."){super(e),this.name="AbortError"}}t.AbortError=n;class i extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}}t.HTTPError=i},50730:function(e,t,r){"use strict";let{TimeoutError:n,AbortError:i}=r(44171),{Response:o,Request:s,Headers:a,default:u}=r(38688),c=(e,t={})=>{let r=new XMLHttpRequest;r.open(t.method||"GET",e.toString(),!0);let{timeout:s,headers:u}=t;if(s&&s>0&&s<1/0&&(r.timeout=s),null!=t.overrideMimeType&&r.overrideMimeType(t.overrideMimeType),u)for(let[c,l]of new a(u))r.setRequestHeader(c,l);return t.signal&&(t.signal.onabort=()=>r.abort()),t.onUploadProgress&&(r.upload.onprogress=t.onUploadProgress),r.responseType="arraybuffer",new Promise((e,s)=>{let a=t=>{switch(t.type){case"error":e(o.error());break;case"load":e(new d(r.responseURL,r.response,{status:r.status,statusText:r.statusText,headers:h(r.getAllResponseHeaders())}));break;case"timeout":s(new n);break;case"abort":s(new i)}};r.onerror=a,r.onload=a,r.ontimeout=a,r.onabort=a,r.send(t.body)})},l=u,f=(e,t={})=>null!=t.onUploadProgress?c(e,t):l(e,t),h=e=>{let t=new a;for(let r of e.trim().split(/[\r\n]+/)){let n=r.indexOf(": ");n>0&&t.set(r.slice(0,n),r.slice(n+1))}return t};class d extends o{constructor(e,t,r){super(t,r),Object.defineProperty(this,"url",{value:e})}}e.exports={fetch:f,Request:s,Headers:a}},59134:function(e,t,r){var n=r(34155);function i(){return!!("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||void 0!==n&&"object"==typeof n.versions&&n.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}e.exports=i},33310:function(e){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},17745:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:s}=r(82049),a=r(15939);e.exports={URL:n,URLSearchParams:o,format:i,relative:a,defaultBase:s}},15939:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i}=r(82049);e.exports=(e,t={},r={},o)=>{let s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||o||s)+":";let a;try{a=new n(e)}catch(u){a={}}let c=Object.assign({},t,{protocol:s||a.protocol,host:t.host||a.host});return new n(e,i(c)).toString()}},82049:function(e){"use strict";let t="undefined"!=typeof navigator&&"ReactNative"===navigator.product;function r(){return t?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}let n=self.URL,i=r();class o{constructor(e="",t=i){this.super=new n(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return n.createObjectURL(e)}static revokeObjectURL(e){n.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function s(e){if("string"==typeof e){let t=new n(e);return t.toString()}if(!(e instanceof n)){let r=e.username&&e.password?`${e.username}:${e.password}@`:"",i=e.auth?e.auth+"@":"",o=e.port?":"+e.port:"",s=e.protocol?e.protocol+"//":"",a=e.host||"",u=e.hostname||"",c=e.search||(e.query?"?"+e.query:""),l=e.hash||"",f=e.pathname||"",h=e.path||f+c;return`${s}${r||i}${a||u+o}${h}${l}`}}e.exports={URLWithLegacySupport:o,URLSearchParams:self.URLSearchParams,defaultBase:i,format:s}},31303:function(e){"use strict";let t=async e=>{let t=[];for await(let r of e)t.push(r);return t};e.exports=t},70942:function(e,t,r){"use strict";let n=r(33310),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,u={concatArrays:!1,ignoreUndefined:!1},c=e=>{let t=[];for(let r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){let n=Object.getOwnPropertySymbols(e);for(let s of n)o.call(e,s)&&t.push(s)}return t};function l(e){return Array.isArray(e)?f(e):n(e)?h(e):e}function f(e){let t=e.slice(0,0);return c(e).forEach(r=>{s(t,r,l(e[r]))}),t}function h(e){let t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach(r=>{s(t,r,l(e[r]))}),t}let d=(e,t,r,n)=>(r.forEach(r=>{(void 0!==t[r]||!n.ignoreUndefined)&&(r in e&&e[r]!==Object.getPrototypeOf(e)?s(e,r,y(e[r],t[r],n)):s(e,r,l(t[r])))}),e),p=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(t=>{let a=[];for(let u=0;u<t.length;u++)i.call(t,u)&&(a.push(String(u)),t===e?s(n,o++,t[u]):s(n,o++,l(t[u])));n=d(n,t,c(t).filter(e=>!a.includes(e)),r)}),n};function y(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?p(e,t,r):n(t)&&n(e)?d(e,t,c(t),r):l(t)}e.exports=function(...e){let t=y(l(u),this!==a&&this||{},u),r={_:{}};for(let i of e)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=y(r,{_:i},t)}return r._}},57824:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i,s=365.25*i;function a(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var u=parseFloat(a[1]),c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function u(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}function c(e){var o=Math.abs(e);return o>=i?l(e,o,i,"day"):o>=n?l(e,o,n,"hour"):o>=r?l(e,o,r,"minute"):o>=t?l(e,o,t,"second"):e+" ms"}function l(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return a(e);if("number"===r&&isFinite(e))return t.long?c(e):u(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},83300:function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},50590:function(e){e.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}();throw Error("unknown stream")}},26988:function(e){e.exports=n;var t=128,r=127;function n(e,i){var o,s=0,i=i||0,a=0,u=i,c=e.length;do{if(u>=c||a>49)throw n.bytes=0,RangeError("Could not decode varint");o=e[u++],s+=a<28?(o&r)<<a:(o&r)*Math.pow(2,a),a+=7}while(o>=t);return n.bytes=u-i,s}},1312:function(e){e.exports=i;var t=128,r=-128,n=2147483648;function i(e,o,s){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw i.bytes=0,RangeError("Could not encode varint");o=o||[];for(var a=s=s||0;e>=n;)o[s++]=255&e|t,e/=128;for(;e&r;)o[s++]=255&e|t,e>>>=7;return o[s]=0|e,i.bytes=s-a+1,o}},94676:function(e,t,r){e.exports={encode:r(1312),decode:r(26988),encodingLength:r(10082)}},10082:function(e){var t=128,r=16384,n=2097152,i=268435456,o=34359738368,s=4398046511104,a=562949953421312,u=72057594037927940,c=0x7fffffffffffffff;e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<s?6:e<a?7:e<u?8:e<c?9:10}},55932:function(e,t,r){"use strict";r.d(t,{Ue:function(){return wv}});var n,i,o,s,a={};r.r(a),r.d(a,{code:function(){return tL},createLink:function(){return tB},createNode:function(){return tj},decode:function(){return tO},encode:function(){return tz},name:function(){return t$},prepare:function(){return tN},validate:function(){return tD}});var u={};r.r(u),r.d(u,{code:function(){return iX},decode:function(){return i0},encode:function(){return iY},name:function(){return iQ}});var c={};r.r(c),r.d(c,{code:function(){return o3},decode:function(){return o4},encode:function(){return o6},format:function(){return o7},name:function(){return o8},parse:function(){return se},stringify:function(){return o7}});var l={};r.r(l),r.d(l,{base64:function(){return sm},base64pad:function(){return sw},base64url:function(){return sv},base64urlpad:function(){return sE}});var f={};r.r(f),r.d(f,{base58btc:function(){return sZ},base58flickr:function(){return sQ}});var h={};r.r(h),r.d(h,{base32:function(){return sX},base32hex:function(){return s2},base32hexpad:function(){return s8},base32hexpadupper:function(){return s3},base32hexupper:function(){return s5},base32pad:function(){return s0},base32padupper:function(){return s1},base32upper:function(){return sY},base32z:function(){return s6}});var d={};r.r(d),r.d(d,{code:function(){return aw},decode:function(){return ak},encode:function(){return aS},name:function(){return am},toGeneral:function(){return aC}});var p={};r.r(p),r.d(p,{identity:function(){return aN}});var y={};r.r(y),r.d(y,{identity:function(){return aD}});var b={};r.r(b),r.d(b,{base2:function(){return aj}});var g={};r.r(g),r.d(g,{base8:function(){return aB}});var m={};r.r(m),r.d(m,{base10:function(){return a$}});var w={};r.r(w),r.d(w,{base16:function(){return aL},base16upper:function(){return az}});var v={};r.r(v),r.d(v,{base36:function(){return aO},base36upper:function(){return aR}});var E={};r.r(E),r.d(E,{base256emoji:function(){return aq}});var x={};r.r(x),r.d(x,{sha256:function(){return aK},sha512:function(){return aZ}});var A={};r.r(A),r.d(A,{code:function(){return aX},decode:function(){return a0},encode:function(){return aY},name:function(){return aQ}});var C={};r.r(C),r.d(C,{code:function(){return a8},decode:function(){return a6},encode:function(){return a3},name:function(){return a5}});var S={};r.r(S),r.d(S,{base10:function(){return uS}});var k={};r.r(k),r.d(k,{base16:function(){return uk},base16upper:function(){return uP}});var P={};r.r(P),r.d(P,{base2:function(){return uU}});var U={};r.r(U),r.d(U,{base256emoji:function(){return uB}});var T={};r.r(T),r.d(T,{base32:function(){return u$},base32hex:function(){return uR},base32hexpad:function(){return uF},base32hexpadupper:function(){return uV},base32hexupper:function(){return uM},base32pad:function(){return uz},base32padupper:function(){return uO},base32upper:function(){return uL},base32z:function(){return u_}});var I={};r.r(I),r.d(I,{base36:function(){return uH},base36upper:function(){return uq}});var N={};r.r(N),r.d(N,{base58btc:function(){return uJ},base58flickr:function(){return uW}});var D={};r.r(D),r.d(D,{base64:function(){return uG},base64pad:function(){return uK},base64url:function(){return uZ},base64urlpad:function(){return uQ}});var j={};r.r(j),r.d(j,{base8:function(){return uX}});var B={};r.r(B),r.d(B,{identity:function(){return uY}});var $={};r.r($),r.d($,{code:function(){return u5},decode:function(){return u3},encode:function(){return u8},name:function(){return u2}});var L={};r.r(L),r.d(L,{code:function(){return u4},decode:function(){return u9},encode:function(){return u7},name:function(){return u6}});var z={};r.r(z),r.d(z,{identity:function(){return cP}});var O={};r.r(O),r.d(O,{sha256:function(){return cN},sha512:function(){return cD}});var R={};r.r(R),r.d(R,{base58btc:function(){return lF},base58flickr:function(){return lV}});var M={};r.r(M),r.d(M,{base32:function(){return l_},base32hex:function(){return lW},base32hexpad:function(){return lK},base32hexpadupper:function(){return lZ},base32hexupper:function(){return lG},base32pad:function(){return lq},base32padupper:function(){return lJ},base32upper:function(){return lH},base32z:function(){return lQ}});var F={};r.r(F),r.d(F,{identity:function(){return l9}});var V={};r.r(V),r.d(V,{base2:function(){return fe}});var _={};r.r(_),r.d(_,{base8:function(){return ft}});var H={};r.r(H),r.d(H,{base10:function(){return fr}});var q={};r.r(q),r.d(q,{base16:function(){return fn},base16upper:function(){return fi}});var J={};r.r(J),r.d(J,{base36:function(){return fo},base36upper:function(){return fs}});var W={};r.r(W),r.d(W,{base64:function(){return fa},base64pad:function(){return fu},base64url:function(){return fc},base64urlpad:function(){return fl}});var G={};r.r(G),r.d(G,{base256emoji:function(){return fb}});var K={};r.r(K),r.d(K,{sha256:function(){return fv},sha512:function(){return fE}});var Z={};r.r(Z),r.d(Z,{identity:function(){return fk}});var Q={};r.r(Q),r.d(Q,{code:function(){return fU},decode:function(){return fI},encode:function(){return fT},name:function(){return fP}});var X={};r.r(X),r.d(X,{code:function(){return fB},decode:function(){return fL},encode:function(){return f$},name:function(){return fj}});var Y={};r.r(Y),r.d(Y,{base58btc:function(){return de},base58flickr:function(){return dt}});var ee={};r.r(ee),r.d(ee,{base32:function(){return dr},base32hex:function(){return da},base32hexpad:function(){return dc},base32hexpadupper:function(){return dl},base32hexupper:function(){return du},base32pad:function(){return di},base32padupper:function(){return ds},base32upper:function(){return dn},base32z:function(){return df}});var et={};r.r(et),r.d(et,{base10:function(){return dZ}});var er={};r.r(er),r.d(er,{base16:function(){return dQ},base16upper:function(){return dX}});var en={};r.r(en),r.d(en,{base2:function(){return dY}});var ei={};r.r(ei),r.d(ei,{base256emoji:function(){return d3}});var eo={};r.r(eo),r.d(eo,{base36:function(){return d6},base36upper:function(){return d4}});var es={};r.r(es),r.d(es,{base64:function(){return d7},base64pad:function(){return d9},base64url:function(){return pe},base64urlpad:function(){return pt}});var ea={};r.r(ea),r.d(ea,{base8:function(){return pr}});var eu={};r.r(eu),r.d(eu,{identity:function(){return pn}});var ec={};r.r(ec),r.d(ec,{code:function(){return pa},decode:function(){return pc},encode:function(){return pu},name:function(){return ps}});var el={};r.r(el),r.d(el,{code:function(){return pf},decode:function(){return pd},encode:function(){return ph},name:function(){return pl}});var ef={};r.r(ef),r.d(ef,{identity:function(){return pm}});var eh={};r.r(eh),r.d(eh,{sha256:function(){return px},sha512:function(){return pA}});let ed=e=>Promise.reject(Error(`No base found for "${e}"`));class ep{constructor(e){for(let t of(this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||ed,e.bases))this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];let t=await this._loadBase(e);return null==this._basesByName[t.name]&&null==this._basesByPrefix[t.prefix]&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}let ey=e=>Promise.reject(Error(`No codec found for "${e}"`));class eb{constructor(e){for(let t of(this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||ey,e.codecs))this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){let t="string"==typeof e?this._codecsByName:this._codecsByCode;if(t[e])return t[e];let r=await this._loadCodec(e);return null==t[e]&&this.addCodec(r),r}listCodecs(){return Object.values(this._codecsByName)}}let eg=e=>Promise.reject(Error(`No hasher found for "${e}"`));class em{constructor(e){for(let t of(this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||eg,e.hashers))this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){let t="string"==typeof e?this._hashersByName:this._hashersByCode;if(t[e])return t[e];let r=await this._loadHasher(e);return null==t[e]&&this.addHasher(r),r}listHashers(){return Object.values(this._hashersByName)}}var ew=eA,ev=128,eE=-128,ex=2147483648;function eA(e,t,r){t=t||[];for(var n=r=r||0;e>=ex;)t[r++]=255&e|ev,e/=128;for(;e&eE;)t[r++]=255&e|ev,e>>>=7;return t[r]=0|e,eA.bytes=r-n+1,t}var eC=eP,eS=128,ek=127;function eP(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw eP.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&ek)<<i:(r&ek)*Math.pow(2,i),i+=7}while(r>=eS);return eP.bytes=o-t,n}var eU=128,eT=16384,eI=2097152,eN=268435456,eD=34359738368,ej=4398046511104,eB=562949953421312,e$=72057594037927940,eL=0x7fffffffffffffff,ez={encode:ew,decode:eC,encodingLength:function(e){return e<eU?1:e<eT?2:e<eI?3:e<eN?4:e<eD?5:e<ej?6:e<eB?7:e<e$?8:e<eL?9:10}};let eO=(e,t=0)=>{let r=ez.decode(e,t);return[r,ez.decode.bytes]},eR=(e,t,r=0)=>(ez.encode(e,t,r),t),eM=e=>ez.encodingLength(e);new Uint8Array(0);let eF=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},eV=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},e_=(e,t)=>{let r=t.byteLength,n=eM(e),i=n+eM(r),o=new Uint8Array(i+r);return eR(e,o,0),eR(r,o,n),o.set(t,i),new eJ(e,r,t,o)},eH=e=>{let t=eV(e),[r,n]=eO(t),[i,o]=eO(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new eJ(r,i,s,t)},eq=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&eF(e.bytes,r.bytes)}};class eJ{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function eW(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var eG=eW;class eK{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eZ{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eX(this,e)}}class eQ{constructor(e){this.decoders=e}or(e){return eX(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eX=(e,t)=>new eQ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eY{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eK(e,t,r),this.decoder=new eZ(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let e0=({name:e,prefix:t,encode:r,decode:n})=>new eY(e,t,r,n),e1=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eG(r,t);return e0({prefix:e,name:t,encode:n,decode:e=>eV(i(e))})},e2=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},e5=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},e8=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>e0({prefix:t,name:e,encode:e=>e5(e,n,r),decode:t=>e2(t,n,r,e)}),e3=e1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});e1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let e6=e8({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});e8({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),e8({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e8({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),e8({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),e8({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),e8({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),e8({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),e8({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let e4=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?tr(r,e9(e),t||e3.encoder):tn(r,e9(e),t||e6.encoder)},e7=new WeakMap,e9=e=>{let t=e7.get(e);if(null==t){let r=new Map;return e7.set(e,r),r}return t};class te{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ti)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==to)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return te.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=e_(e,t);return te.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return te.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&eq(e.multihash,r.multihash)}toString(e){return e4(this,e)}toJSON(){return{"/":e4(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof te)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new te(r,n,i,o||ts(r,n,i.bytes))}if(!0!==t[ta])return null;{let{version:s,multihash:a,code:u}=t,c=eH(a);return te.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===ti)return new te(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${ti}) block encoding`);case 1:{let n=ts(e,t,r.bytes);return new te(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return te.create(0,ti,e)}static createV1(e,t){return te.create(1,e,t)}static decode(e){let[t,r]=te.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=te.inspectBytes(e),r=t.size-t.multihashSize,n=eV(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new eJ(t.multihashCode,t.digestSize,i,n),s=0===t.version?te.createV0(o):te.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=eO(e.subarray(t));return t+=n,r},n=r(),i=ti;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=tt(e,t),i=te.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return e9(i).set(r,e),i}}let tt=(e,t)=>{switch(e[0]){case"Q":{let r=t||e3;return[e3.prefix,r.decode(`${e3.prefix}${e}`)]}case e3.prefix:{let n=t||e3;return[e3.prefix,n.decode(e)]}case e6.prefix:{let i=t||e6;return[e6.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},tr=(e,t,r)=>{let{prefix:n}=r;if(n!==e3.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},tn=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},ti=112,to=18,ts=(e,t,r)=>{let n=eM(e),i=n+eM(t),o=new Uint8Array(i+r.byteLength);return eR(e,o,0),eR(t,o,n),o.set(r,i),o},ta=Symbol.for("@ipld/js-cid/CID"),tu=new TextDecoder;function tc(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw Error("protobuf: varint overflow");if(t>=e.length)throw Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function tl(e,t){let r;[r,t]=tc(e,t);let n=t+r;if(r<0||n<0)throw Error("protobuf: invalid length");if(n>e.length)throw Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function tf(e,t){let r;return[r,t]=tc(e,t),[7&r,r>>3,t]}function th(e){let t={},r=e.length,n=0;for(;n<r;){let i,o;if([i,o,n]=tf(e,n),1===o){if(t.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==i)throw Error(`protobuf: (PBLink) wrong wireType (${i}) for Hash`);if(void 0!==t.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=tl(e,n)}else if(2===o){if(void 0!==t.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==i)throw Error(`protobuf: (PBLink) wrong wireType (${i}) for Name`);if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,n]=tl(e,n),t.Name=tu.decode(s)}else if(3===o){if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==i)throw Error(`protobuf: (PBLink) wrong wireType (${i}) for Tsize`);[t.Tsize,n]=tc(e,n)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(n>r)throw Error("protobuf: (PBLink) unexpected end of data");return t}function td(e){let t=e.length,r=0,n,i=!1,o;for(;r<t;){let s,a;if([s,a,r]=tf(e,r),2!==s)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(1===a){if(o)throw Error("protobuf: (PBNode) duplicate Data section");[o,r]=tl(e,r),n&&(i=!0)}else if(2===a){if(i)throw Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let u;[u,r]=tl(e,r),n.push(th(u))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(r>t)throw Error("protobuf: (PBNode) unexpected end of data");let c={};return o&&(c.Data=o),c.Links=n||[],c}let tp=new TextEncoder,ty=4294967296,tb=2147483648;function tg(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw Error("Tsize too large for encoding");t[r=tE(t,r,e.Tsize)-1]=24}if("string"==typeof e.Name){let n=tp.encode(e.Name);r-=n.length,t.set(n,r),t[r=tE(t,r,n.length)-1]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),t[r=tE(t,r,e.Hash.length)-1]=10),t.length-r}function tm(e){let t=tv(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),r[n=tE(r,n,e.Data.length)-1]=10),e.Links)for(let i=e.Links.length-1;i>=0;i--){let o=tg(e.Links[i],r.subarray(0,n));n-=o,r[n=tE(r,n,o)-1]=18}return r}function tw(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+tx(r)}if("string"==typeof e.Name){let n=tp.encode(e.Name).length;t+=1+n+tx(n)}return"number"==typeof e.Tsize&&(t+=1+tx(e.Tsize)),t}function tv(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+tx(r)}if(e.Links)for(let n of e.Links){let i=tw(n);t+=1+i+tx(i)}return t}function tE(e,t,r){t-=tx(r);let n=t;for(;r>=tb;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function tx(e){return e%2==0&&e++,Math.floor((tA(e)+6)/7)}function tA(e){let t=0;return e>=ty&&(e=Math.floor(e/ty),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+tC[e]}let tC=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],tS=["Data","Links"],tk=["Hash","Name","Tsize"],tP=new TextEncoder;function tU(e,t){if(e===t)return 0;let r=e.Name?tP.encode(e.Name):[],n=t.Name?tP.encode(t.Name):[],i=r.length,o=n.length;for(let s=0,a=Math.min(i,o);s<a;++s)if(r[s]!==n[s]){i=r[s],o=n[s];break}return i<o?-1:o<i?1:0}function tT(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function tI(e){if("object"==typeof e.asCID){let t=te.asCID(e);if(!t)throw TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let r={};if(e.Hash){let n=te.asCID(e.Hash);try{!n&&("string"==typeof e.Hash?n=te.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=te.decode(e.Hash)))}catch(i){throw TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(r.Hash=n)}if(!r.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(r.Name=e.Name),"number"==typeof e.Tsize&&(r.Tsize=e.Tsize),r}function tN(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data){if("string"==typeof e.Data)t.Data=tP.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==e.Links){if(Array.isArray(e.Links))t.Links=e.Links.map(tI),t.Links.sort(tU);else throw TypeError("Invalid DAG-PB form")}else t.Links=[];return t}function tD(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");if(!tT(e,tS))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r))throw TypeError("Invalid DAG-PB form (bad link object)");if(!tT(r,tk))throw TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===tU(r,e.Links[t-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function tj(e,t=[]){return tN({Data:e,Links:t})}function tB(e,t,r){return tI({Hash:r,Name:e,Tsize:t})}let t$="dag-pb",tL=112;function tz(e){tD(e);let t={};return e.Links&&(t.Links=e.Links.map(e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),tm(t)}function tO(e){let t=td(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(e=>{let t={};try{t.Hash=te.decode(e.Hash)}catch(r){}if(!t.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),r}let tR=["string","number","bigint","symbol"],tM=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function tF(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;if(tR.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(tV(e))return"Buffer";let r=t_(e);return r||"Object"}function tV(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function t_(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(tM.includes(t))return t}class tH{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}tH.uint=new tH(0,"uint",!0),tH.negint=new tH(1,"negint",!0),tH.bytes=new tH(2,"bytes",!0),tH.string=new tH(3,"string",!0),tH.array=new tH(4,"array",!1),tH.map=new tH(5,"map",!1),tH.tag=new tH(6,"tag",!1),tH.float=new tH(7,"float",!0),tH.false=new tH(7,"false",!0),tH.true=new tH(7,"true",!0),tH.null=new tH(7,"null",!0),tH.undefined=new tH(7,"undefined",!0),tH.break=new tH(7,"break",!0);class tq{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let tJ=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,tW=new TextDecoder,tG=new TextEncoder;function tK(e){return tJ&&globalThis.Buffer.isBuffer(e)}function tZ(e){return e instanceof Uint8Array?tK(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}let tQ=tJ?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):t3(e,t,r):(e,t,r)=>r-t>64?tW.decode(e.subarray(t,r)):t3(e,t,r),tX=tJ?e=>e.length>64?globalThis.Buffer.from(e):t8(e):e=>e.length>64?tG.encode(e):t8(e),tY=e=>Uint8Array.from(e),t0=tJ?(e,t,r)=>tK(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),t1=tJ?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),tZ(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},t2=tJ?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function t5(e,t){if(tK(e)&&tK(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function t8(e,t=1/0){let r,n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function t3(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let a,u,c,l;switch(s){case 1:i<128&&(o=i);break;case 2:(192&(a=e[t+1]))==128&&(l=(31&i)<<6|63&a)>127&&(o=l);break;case 3:a=e[t+1],u=e[t+2],(192&a)==128&&(192&u)==128&&(l=(15&i)<<12|(63&a)<<6|63&u)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:a=e[t+1],u=e[t+2],c=e[t+3],(192&a)==128&&(192&u)==128&&(192&c)==128&&(l=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&c)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return t4(n)}let t6=4096;function t4(e){let t=e.length;if(t<=t6)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=t6));return r}let t7=256;class t9{constructor(e=t7){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1],r=this.cursor+e.length;if(r<=this.maxCursor+1){let n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){let i=t.length-(this.maxCursor-this.cursor)-1;i<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=t2(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=t0(r,0,this.cursor)}else t=t1(this.chunks,this.cursor);return e&&this.reset(),t}}let re="CBOR decode error:",rt="CBOR encode error:",rr=[];function rn(e,t,r){if(e.length-t<r)throw Error(`${re} not enough data for type`)}rr[23]=1,rr[24]=2,rr[25]=3,rr[26]=5,rr[27]=9;let ri=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ro(e,t,r){rn(e,t,1);let n=e[t];if(!0===r.strict&&n<ri[0])throw Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return n}function rs(e,t,r){rn(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<ri[1])throw Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return n}function ra(e,t,r){rn(e,t,4);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<ri[2])throw Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return n}function ru(e,t,r){rn(e,t,8);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<ri[3])throw Error(`${re} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw Error(`${re} integers outside of the safe integer range are not supported`)}function rc(e,t,r,n){return new tq(tH.uint,ro(e,t+1,n),2)}function rl(e,t,r,n){return new tq(tH.uint,rs(e,t+1,n),3)}function rf(e,t,r,n){return new tq(tH.uint,ra(e,t+1,n),5)}function rh(e,t,r,n){return new tq(tH.uint,ru(e,t+1,n),9)}function rd(e,t){return rp(e,0,t.value)}function rp(e,t,r){if(r<ri[0]){let n=Number(r);e.push([t|n])}else if(r<ri[1]){let i=Number(r);e.push([24|t,i])}else if(r<ri[2]){let o=Number(r);e.push([25|t,o>>>8,255&o])}else if(r<ri[3]){let s=Number(r);e.push([26|t,s>>>24&255,s>>>16&255,s>>>8&255,255&s])}else{let a=BigInt(r);if(a<ri[4]){let u=[27|t,0,0,0,0,0,0,0],c=Number(a&BigInt(4294967295)),l=Number(a>>BigInt(32)&BigInt(4294967295));u[8]=255&c,c>>=8,u[7]=255&c,c>>=8,u[6]=255&c,c>>=8,u[5]=255&c,u[4]=255&l,l>>=8,u[3]=255&l,l>>=8,u[2]=255&l,l>>=8,u[1]=255&l,e.push(u)}else throw Error(`${re} encountered BigInt larger than allowable range`)}}function ry(e,t,r,n){return new tq(tH.negint,-1-ro(e,t+1,n),2)}function rb(e,t,r,n){return new tq(tH.negint,-1-rs(e,t+1,n),3)}function rg(e,t,r,n){return new tq(tH.negint,-1-ra(e,t+1,n),5)}rd.encodedSize=function(e){return rp.encodedSize(e.value)},rp.encodedSize=function(e){return e<ri[0]?1:e<ri[1]?2:e<ri[2]?3:e<ri[3]?5:9},rd.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};let rm=BigInt(-1),rw=BigInt(1);function rv(e,t,r,n){let i=ru(e,t+1,n);if("bigint"!=typeof i){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new tq(tH.negint,o,9)}if(!0!==n.allowBigInt)throw Error(`${re} integers outside of the safe integer range are not supported`);return new tq(tH.negint,rm-BigInt(i),9)}function rE(e,t){let r=t.value,n="bigint"==typeof r?r*rm-rw:-1*r-1;rp(e,t.type.majorEncoded,n)}function rx(e,t,r,n){rn(e,t,r+n);let i=t0(e,t+r,t+r+n);return new tq(tH.bytes,i,r+n)}function rA(e,t,r,n){return rx(e,t,1,r)}function rC(e,t,r,n){return rx(e,t,2,ro(e,t+1,n))}function rS(e,t,r,n){return rx(e,t,3,rs(e,t+1,n))}function rk(e,t,r,n){return rx(e,t,5,ra(e,t+1,n))}function rP(e,t,r,n){let i=ru(e,t+1,n);if("bigint"==typeof i)throw Error(`${re} 64-bit integer bytes lengths not supported`);return rx(e,t,9,i)}function rU(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===tH.string?tX(e.value):e.value),e.encodedBytes}function rT(e,t){let r=rU(t);rp(e,t.type.majorEncoded,r.length),e.push(r)}function rI(e,t){return e.length<t.length?-1:e.length>t.length?1:t5(e,t)}function rN(e,t,r,n,i){let o=r+n;rn(e,t,o);let s=new tq(tH.string,tQ(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=t0(e,t+r,t+o)),s}function rD(e,t,r,n){return rN(e,t,1,r,n)}function rj(e,t,r,n){return rN(e,t,2,ro(e,t+1,n),n)}function rB(e,t,r,n){return rN(e,t,3,rs(e,t+1,n),n)}function r$(e,t,r,n){return rN(e,t,5,ra(e,t+1,n),n)}function rL(e,t,r,n){let i=ru(e,t+1,n);if("bigint"==typeof i)throw Error(`${re} 64-bit integer string lengths not supported`);return rN(e,t,9,i,n)}rE.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*rm-rw:-1*t-1;return r<ri[0]?1:r<ri[1]?2:r<ri[2]?3:r<ri[3]?5:9},rE.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},rT.encodedSize=function(e){let t=rU(e);return rp.encodedSize(t.length)+t.length},rT.compareTokens=function(e,t){return rI(rU(e),rU(t))};let rz=rT;function rO(e,t,r,n){return new tq(tH.array,n,r)}function rR(e,t,r,n){return rO(e,t,1,r)}function rM(e,t,r,n){return rO(e,t,2,ro(e,t+1,n))}function rF(e,t,r,n){return rO(e,t,3,rs(e,t+1,n))}function rV(e,t,r,n){return rO(e,t,5,ra(e,t+1,n))}function r_(e,t,r,n){let i=ru(e,t+1,n);if("bigint"==typeof i)throw Error(`${re} 64-bit integer array lengths not supported`);return rO(e,t,9,i)}function rH(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${re} indefinite length items not allowed`);return rO(e,t,1,1/0)}function rq(e,t){rp(e,tH.array.majorEncoded,t.value)}function rJ(e,t,r,n){return new tq(tH.map,n,r)}function rW(e,t,r,n){return rJ(e,t,1,r)}function rG(e,t,r,n){return rJ(e,t,2,ro(e,t+1,n))}function rK(e,t,r,n){return rJ(e,t,3,rs(e,t+1,n))}function rZ(e,t,r,n){return rJ(e,t,5,ra(e,t+1,n))}function rQ(e,t,r,n){let i=ru(e,t+1,n);if("bigint"==typeof i)throw Error(`${re} 64-bit integer map lengths not supported`);return rJ(e,t,9,i)}function rX(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${re} indefinite length items not allowed`);return rJ(e,t,1,1/0)}function rY(e,t){rp(e,tH.map.majorEncoded,t.value)}function r0(e,t,r,n){return new tq(tH.tag,r,1)}function r1(e,t,r,n){return new tq(tH.tag,ro(e,t+1,n),2)}function r2(e,t,r,n){return new tq(tH.tag,rs(e,t+1,n),3)}function r5(e,t,r,n){return new tq(tH.tag,ra(e,t+1,n),5)}function r8(e,t,r,n){return new tq(tH.tag,ru(e,t+1,n),9)}function r3(e,t){rp(e,tH.tag.majorEncoded,t.value)}rq.compareTokens=rd.compareTokens,rq.encodedSize=function(e){return rp.encodedSize(e.value)},rY.compareTokens=rd.compareTokens,rY.encodedSize=function(e){return rp.encodedSize(e.value)},r3.compareTokens=rd.compareTokens,r3.encodedSize=function(e){return rp.encodedSize(e.value)};let r6=20,r4=21,r7=22,r9=23;function ne(e,t,r,n){if(!1===n.allowUndefined)throw Error(`${re} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new tq(tH.null,null,1):new tq(tH.undefined,void 0,1)}function nt(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${re} indefinite length items not allowed`);return new tq(tH.break,void 0,1)}function nr(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw Error(`${re} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw Error(`${re} Infinity values are not supported`)}return new tq(tH.float,e,t)}function nn(e,t,r,n){return nr(nf(e,t+1),3,n)}function ni(e,t,r,n){return nr(nd(e,t+1),5,n)}function no(e,t,r,n){return nr(ny(e,t+1),9,n)}function ns(e,t,r){let n=t.value;if(!1===n)e.push([tH.float.majorEncoded|r6]);else if(!0===n)e.push([tH.float.majorEncoded|r4]);else if(null===n)e.push([tH.float.majorEncoded|r7]);else if(void 0===n)e.push([tH.float.majorEncoded|r9]);else{let i,o=!1;r&&!0===r.float64||(nl(n),i=nf(nc,1),n===i||Number.isNaN(n)?(nc[0]=249,e.push(nc.slice(0,3)),o=!0):(nh(n),i=nd(nc,1),n!==i||(nc[0]=250,e.push(nc.slice(0,5)),o=!0))),o||(np(n),i=ny(nc,1),nc[0]=251,e.push(nc.slice(0,9)))}}ns.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){nl(r);let n=nf(nc,1);if(r===n||Number.isNaN(r))return 3;if(nh(r),n=nd(nc,1),r===n)return 5}return 9};let na=new ArrayBuffer(9),nu=new DataView(na,1),nc=new Uint8Array(na,0);function nl(e){if(e===1/0)nu.setUint16(0,31744,!1);else if(e===-1/0)nu.setUint16(0,64512,!1);else if(Number.isNaN(e))nu.setUint16(0,32256,!1);else{nu.setFloat32(0,e);let t=nu.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)nu.setUint16(0,31744,!1);else if(0===r)nu.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{let i=r-127;i<-24?nu.setUint16(0,0):i<-14?nu.setUint16(0,(2147483648&t)>>16|1<<24+i,!1):nu.setUint16(0,(2147483648&t)>>16|i+15<<10|n>>13,!1)}}}function nf(e,t){if(e.length-t<2)throw Error(`${re} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;let n=r>>10&31,i=1023&r,o;return o=0===n?5960464477539063e-23*i:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function nh(e){nu.setFloat32(0,e,!1)}function nd(e,t){if(e.length-t<4)throw Error(`${re} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function np(e){nu.setFloat64(0,e,!1)}function ny(e,t){if(e.length-t<8)throw Error(`${re} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function nb(e,t,r){throw Error(`${re} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function ng(e){return()=>{throw Error(`${re} ${e}`)}}ns.compareTokens=rd.compareTokens;let nm=[];for(let nw=0;nw<=23;nw++)nm[nw]=nb;nm[24]=rc,nm[25]=rl,nm[26]=rf,nm[27]=rh,nm[28]=nb,nm[29]=nb,nm[30]=nb,nm[31]=nb;for(let nv=32;nv<=55;nv++)nm[nv]=nb;nm[56]=ry,nm[57]=rb,nm[58]=rg,nm[59]=rv,nm[60]=nb,nm[61]=nb,nm[62]=nb,nm[63]=nb;for(let nE=64;nE<=87;nE++)nm[nE]=rA;nm[88]=rC,nm[89]=rS,nm[90]=rk,nm[91]=rP,nm[92]=nb,nm[93]=nb,nm[94]=nb,nm[95]=ng("indefinite length bytes/strings are not supported");for(let nx=96;nx<=119;nx++)nm[nx]=rD;nm[120]=rj,nm[121]=rB,nm[122]=r$,nm[123]=rL,nm[124]=nb,nm[125]=nb,nm[126]=nb,nm[127]=ng("indefinite length bytes/strings are not supported");for(let nA=128;nA<=151;nA++)nm[nA]=rR;nm[152]=rM,nm[153]=rF,nm[154]=rV,nm[155]=r_,nm[156]=nb,nm[157]=nb,nm[158]=nb,nm[159]=rH;for(let nC=160;nC<=183;nC++)nm[nC]=rW;nm[184]=rG,nm[185]=rK,nm[186]=rZ,nm[187]=rQ,nm[188]=nb,nm[189]=nb,nm[190]=nb,nm[191]=rX;for(let nS=192;nS<=215;nS++)nm[nS]=r0;nm[216]=r1,nm[217]=r2,nm[218]=r5,nm[219]=r8,nm[220]=nb,nm[221]=nb,nm[222]=nb,nm[223]=nb;for(let nk=224;nk<=243;nk++)nm[nk]=ng("simple values are not supported");nm[244]=nb,nm[245]=nb,nm[246]=nb,nm[247]=ne,nm[248]=ng("simple values are not supported"),nm[249]=nn,nm[250]=ni,nm[251]=no,nm[252]=nb,nm[253]=nb,nm[254]=nb,nm[255]=nt;let nP=[];for(let nU=0;nU<24;nU++)nP[nU]=new tq(tH.uint,nU,1);for(let nT=-1;nT>=-24;nT--)nP[31-nT]=new tq(tH.negint,nT,1);function nI(e){switch(e.type){case tH.false:return tY([244]);case tH.true:return tY([245]);case tH.null:return tY([246]);case tH.bytes:if(!e.value.length)return tY([64]);return;case tH.string:if(""===e.value)return tY([96]);return;case tH.array:if(0===e.value)return tY([128]);return;case tH.map:if(0===e.value)return tY([160]);return;case tH.uint:if(e.value<24)return tY([Number(e.value)]);return;case tH.negint:if(e.value>=-24)return tY([31-Number(e.value)])}}nP[64]=new tq(tH.bytes,new Uint8Array(0),1),nP[96]=new tq(tH.string,"",1),nP[128]=new tq(tH.array,0,1),nP[160]=new tq(tH.map,0,1),nP[244]=new tq(tH.false,!1,1),nP[245]=new tq(tH.true,!0,1),nP[246]=new tq(tH.null,null,1);let nN={float64:!1,mapSorter:nF,quickEncodeToken:nI};function nD(){let e=[];return e[tH.uint.major]=rd,e[tH.negint.major]=rE,e[tH.bytes.major]=rT,e[tH.string.major]=rz,e[tH.array.major]=rq,e[tH.map.major]=rY,e[tH.tag.major]=r3,e[tH.float.major]=ns,e}let nj=nD(),nB=new t9;class n${constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw Error(`${rt} object contains circular references`);return new n$(t,e)}}let nL={null:new tq(tH.null,null),undefined:new tq(tH.undefined,void 0),true:new tq(tH.true,!0),false:new tq(tH.false,!1),emptyArray:new tq(tH.array,0),emptyMap:new tq(tH.map,0)},nz={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new tq(tH.uint,e):new tq(tH.negint,e):new tq(tH.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new tq(tH.uint,e):new tq(tH.negint,e),Uint8Array:(e,t,r,n)=>new tq(tH.bytes,e),string:(e,t,r,n)=>new tq(tH.string,e),boolean:(e,t,r,n)=>e?nL.true:nL.false,null:(e,t,r,n)=>nL.null,undefined:(e,t,r,n)=>nL.undefined,ArrayBuffer:(e,t,r,n)=>new tq(tH.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new tq(tH.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[nL.emptyArray,new tq(tH.break)]:nL.emptyArray;n=n$.createCheck(n,e);let i=[],o=0;for(let s of e)i[o++]=nR(s,r,n);return r.addBreakTokens?[new tq(tH.array,e.length),i,new tq(tH.break)]:[new tq(tH.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[nL.emptyMap,new tq(tH.break)]:nL.emptyMap;n=n$.createCheck(n,e);let a=[],u=0;for(let c of o)a[u++]=[nR(c,r,n),nR(i?e.get(c):e[c],r,n)];return(nM(a,r),r.addBreakTokens)?[new tq(tH.map,s),a,new tq(tH.break)]:[new tq(tH.map,s),a]}};for(let nO of(nz.Map=nz.Object,nz.Buffer=nz.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))nz[`${nO}Array`]=nz.DataView;function nR(e,t={},r){let n=tF(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||nz[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let s=nz[n];if(!s)throw Error(`${rt} unsupported type: ${n}`);return s(e,n,t,r)}function nM(e,t){t.mapSorter&&e.sort(t.mapSorter)}function nF(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=nj[i].compareTokens(r,n);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function nV(e,t,r,n){if(Array.isArray(t))for(let i of t)nV(e,i,r,n);else r[t.type.major](e,t,n)}function n_(e,t,r){let n=nR(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=t[n.type.major];if(o.encodedSize){let s=o.encodedSize(n,r),a=new t9(s);if(o(a,n,r),1!==a.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return tZ(a.chunks[0])}}return nB.reset(),nV(nB,n,t,r),nB.toBytes(!0)}function nH(e,t){return n_(e,nj,t=Object.assign({},nN,t))}let nq={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class nJ{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=nP[e];if(void 0===t){let r=nm[e];if(!r)throw Error(`${re} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}let nW=Symbol.for("DONE"),nG=Symbol.for("BREAK");function nK(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=nQ(t,r);if(o===nG){if(e.value===1/0)break;throw Error(`${re} got unexpected break to lengthed array`)}if(o===nW)throw Error(`${re} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function nZ(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){let a=nQ(t,r);if(a===nG){if(e.value===1/0)break;throw Error(`${re} got unexpected break to lengthed map`)}if(a===nW)throw Error(`${re} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw Error(`${re} non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(a)||!n&&a in i))throw Error(`${re} found repeat map key "${a}"`);let u=nQ(t,r);if(u===nW)throw Error(`${re} found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,u):i[a]=u}return n?o:i}function nQ(e,t){if(e.done())return nW;let r=e.next();if(r.type===tH.break)return nG;if(r.type.terminal)return r.value;if(r.type===tH.array)return nK(r,e,t);if(r.type===tH.map)return nZ(r,e,t);if(r.type===tH.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=nQ(e,t);return t.tags[r.value](n)}throw Error(`${re} tag not supported (${r.value})`)}throw Error("unsupported")}function nX(e,t){if(!(e instanceof Uint8Array))throw Error(`${re} data to decode must be a Uint8Array`);t=Object.assign({},nq,t);let r=t.tokenizer||new nJ(e,t),n=nQ(r,t);if(n===nW)throw Error(`${re} did not find any content to decode`);if(n===nG)throw Error(`${re} got unexpected break`);if(!r.done())throw Error(`${re} too many terminals, data makes no sense`);return n}var nY=n5,n0=128,n1=-128,n2=2147483648;function n5(e,t,r){t=t||[];for(var n=r=r||0;e>=n2;)t[r++]=255&e|n0,e/=128;for(;e&n1;)t[r++]=255&e|n0,e>>>=7;return t[r]=0|e,n5.bytes=r-n+1,t}var n8=n4,n3=128,n6=127;function n4(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw n4.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&n6)<<i:(r&n6)*Math.pow(2,i),i+=7}while(r>=n3);return n4.bytes=o-t,n}var n7=128,n9=16384,ie=2097152,it=268435456,ir=34359738368,ii=4398046511104,io=562949953421312,is=72057594037927940,ia=0x7fffffffffffffff,iu={encode:nY,decode:n8,encodingLength:function(e){return e<n7?1:e<n9?2:e<ie?3:e<it?4:e<ir?5:e<ii?6:e<io?7:e<is?8:e<ia?9:10}};let ic=(e,t=0)=>{let r=iu.decode(e,t);return[r,iu.decode.bytes]},il=(e,t,r=0)=>(iu.encode(e,t,r),t),ih=e=>iu.encodingLength(e);new Uint8Array(0);let id=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ip=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},iy=(e,t)=>{let r=t.byteLength,n=ih(e),i=n+ih(r),o=new Uint8Array(i+r);return il(e,o,0),il(r,o,n),o.set(t,i),new im(e,r,t,o)},ib=e=>{let t=ip(e),[r,n]=ic(t),[i,o]=ic(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new im(r,i,s,t)},ig=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&id(e.bytes,r.bytes)}};class im{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function iw(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var iv=iw;class iE{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ix{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return iC(this,e)}}class iA{constructor(e){this.decoders=e}or(e){return iC(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let iC=(e,t)=>new iA({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class iS{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new iE(e,t,r),this.decoder=new ix(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ik=({name:e,prefix:t,encode:r,decode:n})=>new iS(e,t,r,n),iP=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=iv(r,t);return ik({prefix:e,name:t,encode:n,decode:e=>ip(i(e))})},iU=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},iT=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},iI=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ik({prefix:t,name:e,encode:e=>iT(e,n,r),decode:t=>iU(t,n,r,e)}),iN=iP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});iP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let iD=iI({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});iI({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iI({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iI({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iI({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iI({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iI({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iI({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),iI({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let ij=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?iO(r,i$(e),t||iN.encoder):iR(r,i$(e),t||iD.encoder)},iB=new WeakMap,i$=e=>{let t=iB.get(e);if(null==t){let r=new Map;return iB.set(e,r),r}return t};class iL{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==iM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==iF)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return iL.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=iy(e,t);return iL.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return iL.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&ig(e.multihash,r.multihash)}toString(e){return ij(this,e)}toJSON(){return{"/":ij(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof iL)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new iL(r,n,i,o||iV(r,n,i.bytes))}if(!0!==t[i_])return null;{let{version:s,multihash:a,code:u}=t,c=ib(a);return iL.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===iM)return new iL(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${iM}) block encoding`);case 1:{let n=iV(e,t,r.bytes);return new iL(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return iL.create(0,iM,e)}static createV1(e,t){return iL.create(1,e,t)}static decode(e){let[t,r]=iL.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=iL.inspectBytes(e),r=t.size-t.multihashSize,n=ip(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new im(t.multihashCode,t.digestSize,i,n),s=0===t.version?iL.createV0(o):iL.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ic(e.subarray(t));return t+=n,r},n=r(),i=iM;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=iz(e,t),i=iL.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return i$(i).set(r,e),i}}let iz=(e,t)=>{switch(e[0]){case"Q":{let r=t||iN;return[iN.prefix,r.decode(`${iN.prefix}${e}`)]}case iN.prefix:{let n=t||iN;return[iN.prefix,n.decode(e)]}case iD.prefix:{let i=t||iD;return[iD.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},iO=(e,t,r)=>{let{prefix:n}=r;if(n!==iN.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},iR=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},iM=112,iF=18,iV=(e,t,r)=>{let n=ih(e),i=n+ih(t),o=new Uint8Array(i+r.byteLength);return il(e,o,0),il(t,o,n),o.set(r,i),o},i_=Symbol.for("@ipld/js-cid/CID"),iH=42;function iq(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=iL.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new tq(tH.tag,iH),new tq(tH.bytes,r)]}function iJ(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function iW(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}let iG={float64:!0,typeEncoders:{Object:iq,undefined:iJ,number:iW}};function iK(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return iL.decode(e.subarray(1))}let iZ={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};iZ.tags[iH]=iK;let iQ="dag-cbor",iX=113,iY=e=>nH(e,iG),i0=e=>nX(e,iZ);var i1=i3,i2=128,i5=-128,i8=2147483648;function i3(e,t,r){t=t||[];for(var n=r=r||0;e>=i8;)t[r++]=255&e|i2,e/=128;for(;e&i5;)t[r++]=255&e|i2,e>>>=7;return t[r]=0|e,i3.bytes=r-n+1,t}var i6=i9,i4=128,i7=127;function i9(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw i9.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&i7)<<i:(r&i7)*Math.pow(2,i),i+=7}while(r>=i4);return i9.bytes=o-t,n}var oe=128,ot=16384,or=2097152,on=268435456,oi=34359738368,oo=4398046511104,os=562949953421312,oa=72057594037927940,ou=0x7fffffffffffffff,oc={encode:i1,decode:i6,encodingLength:function(e){return e<oe?1:e<ot?2:e<or?3:e<on?4:e<oi?5:e<oo?6:e<os?7:e<oa?8:e<ou?9:10}};let ol=(e,t=0)=>{let r=oc.decode(e,t);return[r,oc.decode.bytes]},of=(e,t,r=0)=>(oc.encode(e,t,r),t),oh=e=>oc.encodingLength(e);new Uint8Array(0);let od=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},op=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},oy=(e,t)=>{let r=t.byteLength,n=oh(e),i=n+oh(r),o=new Uint8Array(i+r);return of(e,o,0),of(r,o,n),o.set(t,i),new om(e,r,t,o)},ob=e=>{let t=op(e),[r,n]=ol(t),[i,o]=ol(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new om(r,i,s,t)},og=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&od(e.bytes,r.bytes)}};class om{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function ow(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var ov=ow;class oE{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ox{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return oC(this,e)}}class oA{constructor(e){this.decoders=e}or(e){return oC(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let oC=(e,t)=>new oA({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class oS{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new oE(e,t,r),this.decoder=new ox(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ok=({name:e,prefix:t,encode:r,decode:n})=>new oS(e,t,r,n),oP=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=ov(r,t);return ok({prefix:e,name:t,encode:n,decode:e=>op(i(e))})},oU=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},oT=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},oI=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ok({prefix:t,name:e,encode:e=>oT(e,n,r),decode:t=>oU(t,n,r,e)}),oN=oP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});oP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let oD=oI({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});oI({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oI({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oI({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oI({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oI({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oI({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oI({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oI({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let oj=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?oO(r,o$(e),t||oN.encoder):oR(r,o$(e),t||oD.encoder)},oB=new WeakMap,o$=e=>{let t=oB.get(e);if(null==t){let r=new Map;return oB.set(e,r),r}return t};class oL{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==oM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==oF)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return oL.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=oy(e,t);return oL.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return oL.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&og(e.multihash,r.multihash)}toString(e){return oj(this,e)}toJSON(){return{"/":oj(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof oL)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new oL(r,n,i,o||oV(r,n,i.bytes))}if(!0!==t[o_])return null;{let{version:s,multihash:a,code:u}=t,c=ob(a);return oL.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===oM)return new oL(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${oM}) block encoding`);case 1:{let n=oV(e,t,r.bytes);return new oL(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return oL.create(0,oM,e)}static createV1(e,t){return oL.create(1,e,t)}static decode(e){let[t,r]=oL.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=oL.inspectBytes(e),r=t.size-t.multihashSize,n=op(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new om(t.multihashCode,t.digestSize,i,n),s=0===t.version?oL.createV0(o):oL.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ol(e.subarray(t));return t+=n,r},n=r(),i=oM;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=oz(e,t),i=oL.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return o$(i).set(r,e),i}}let oz=(e,t)=>{switch(e[0]){case"Q":{let r=t||oN;return[oN.prefix,r.decode(`${oN.prefix}${e}`)]}case oN.prefix:{let n=t||oN;return[oN.prefix,n.decode(e)]}case oD.prefix:{let i=t||oD;return[oD.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},oO=(e,t,r)=>{let{prefix:n}=r;if(n!==oN.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},oR=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},oM=112,oF=18,oV=(e,t,r)=>{let n=oh(e),i=n+oh(t),o=new Uint8Array(i+r.byteLength);return of(e,o,0),of(t,o,n),o.set(r,i),o},o_=Symbol.for("@ipld/js-cid/CID"),oH=oI({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});oI({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oI({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oI({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class oq extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){let t=this.inRecursive[this.inRecursive.length-1];t&&(t.type===tH.array&&(t.elements++,1!==t.elements&&e.push([44])),t.type===tH.map&&(t.elements++,1!==t.elements&&(t.elements%2==1?e.push([44]):e.push([58]))))}[tH.uint.major](e,t){this.prefix(e);let r=String(t.value),n=[];for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);e.push(n)}[tH.negint.major](e,t){this[tH.uint.major](e,t)}[tH.bytes.major](e,t){throw Error(`${rt} unsupported type: Uint8Array`)}[tH.string.major](e,t){this.prefix(e);let r=tX(JSON.stringify(t.value));e.push(r.length>32?tZ(r):r)}[tH.array.major](e,t){this.prefix(e),this.inRecursive.push({type:tH.array,elements:0}),e.push([91])}[tH.map.major](e,t){this.prefix(e),this.inRecursive.push({type:tH.map,elements:0}),e.push([123])}[tH.tag.major](e,t){}[tH.float.major](e,t){if("break"===t.type.name){let r=this.inRecursive.pop();if(r){if(r.type===tH.array)e.push([93]);else if(r.type===tH.map)e.push([125]);else throw Error("Unexpected recursive type; this should not happen!");return}throw Error("Unexpected break; this should not happen!")}if(void 0===t.value)throw Error(`${rt} unsupported type: undefined`);if(this.prefix(e),"true"===t.type.name){e.push([116,114,117,101]);return}if("false"===t.type.name){e.push([102,97,108,115,101]);return}if("null"===t.type.name){e.push([110,117,108,108]);return}let n=String(t.value),i=[],o=!1;for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s),o||46!==i[s]&&101!==i[s]&&69!==i[s]||(o=!0);o||(i.push(46),i.push(48)),e.push(i)}}function oJ(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw Error(`${rt} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==tH.string||n.type!==tH.string)throw Error(`${rt} non-string map keys are not supported`);if(r<n)return -1;if(r>n)return 1;throw Error(`${rt} unexpected duplicate map keys, this is not supported`)}let oW={addBreakTokens:!0,mapSorter:oJ};function oG(e,t){return t=Object.assign({},oW,t),n_(e,new oq,t)}class oK{constructor(e,t={}){this.pos=0,this.data=e,this.options=t,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;32===e||9===e||13===e||10===e;)e=this.data[++this.pos]}expect(e){if(this.data.length-this.pos<e.length)throw Error(`${re} unexpected end of input at position ${this.pos}`);for(let t=0;t<e.length;t++)if(this.data[this.pos++]!==e[t])throw Error(`${re} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){let e=this.pos,t=!1,r=!1,n=e=>{for(;!this.done();){let t=this.ch();if(e.includes(t))this.pos++;else break}};if(45===this.ch()&&(t=!0,this.pos++),48===this.ch()){if(this.pos++,46!==this.ch())return new tq(tH.uint,0,this.pos-e);this.pos++,r=!0}if(n([48,49,50,51,52,53,54,55,56,57]),t&&this.pos===e+1)throw Error(`${re} unexpected token at position ${this.pos}`);if(!this.done()&&46===this.ch()){if(r)throw Error(`${re} unexpected token at position ${this.pos}`);r=!0,this.pos++,n([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(r=!0,this.pos++,!this.done()&&(43===this.ch()||45===this.ch())&&this.pos++,n([48,49,50,51,52,53,54,55,56,57]));let i=String.fromCharCode.apply(null,this.data.subarray(e,this.pos)),o=parseFloat(i);return r?new tq(tH.float,o,this.pos-e):!0!==this.options.allowBigInt||Number.isSafeInteger(o)?new tq(o>=0?tH.uint:tH.negint,o,this.pos-e):new tq(o>=0?tH.uint:tH.negint,BigInt(i),this.pos-e)}parseString(){if(34!==this.ch())throw Error(`${re} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let e=this.pos,t=0;e<this.data.length&&t<65536;e++,t++){let r=this.data[e];if(92===r||r<32||r>=128)break;if(34===r){let n=String.fromCharCode.apply(null,this.data.subarray(this.pos,e));return this.pos=e+1,new tq(tH.string,n,t)}}let i=this.pos,o=[],s=()=>{if(this.pos+4>=this.data.length)throw Error(`${re} unexpected end of unicode escape sequence at position ${this.pos}`);let e=0;for(let t=0;t<4;t++){let r=this.ch();if(r>=48&&r<=57)r-=48;else if(r>=97&&r<=102)r=r-97+10;else if(r>=65&&r<=70)r=r-65+10;else throw Error(`${re} unexpected unicode escape character at position ${this.pos}`);e=16*e+r,this.pos++}return e},a=()=>{let e=this.ch(),t=null,r=e>239?4:e>223?3:e>191?2:1;if(this.pos+r>this.data.length)throw Error(`${re} unexpected unicode sequence at position ${this.pos}`);let n,i,s,a;switch(r){case 1:e<128&&(t=e);break;case 2:(192&(n=this.data[this.pos+1]))==128&&(a=(31&e)<<6|63&n)>127&&(t=a);break;case 3:n=this.data[this.pos+1],i=this.data[this.pos+2],(192&n)==128&&(192&i)==128&&(a=(15&e)<<12|(63&n)<<6|63&i)>2047&&(a<55296||a>57343)&&(t=a);break;case 4:n=this.data[this.pos+1],i=this.data[this.pos+2],s=this.data[this.pos+3],(192&n)==128&&(192&i)==128&&(192&s)==128&&(a=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&s)>65535&&a<1114112&&(t=a)}null===t?(t=65533,r=1):t>65535&&(t-=65536,o.push(t>>>10&1023|55296),t=56320|1023&t),o.push(t),this.pos+=r};for(;!this.done();){let u=this.ch(),c;switch(u){case 92:if(this.pos++,this.done())throw Error(`${re} unexpected string termination at position ${this.pos}`);switch(c=this.ch(),this.pos++,c){case 34:case 39:case 92:case 47:o.push(c);break;case 98:o.push(8);break;case 116:o.push(9);break;case 110:o.push(10);break;case 102:o.push(12);break;case 114:o.push(13);break;case 117:o.push(s());break;default:throw Error(`${re} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new tq(tH.string,t4(o),this.pos-i);default:if(u<32)throw Error(`${re} invalid control character at position ${this.pos}`);u<128?(o.push(u),this.pos++):a()}}throw Error(`${re} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new tq(tH.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new tq(tH.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new tq(tH.null,null,4);case 102:return this.expect([102,97,108,115,101]),new tq(tH.false,!1,5);case 116:return this.expect([116,114,117,101]),new tq(tH.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw Error(`${re} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this.pos++,this.skipWhitespace(),new tq(tH.break,void 0,1);if(44!==this.ch())throw Error(`${re} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":if(this.modeStack.pop(),93===this.ch())return this.pos++,this.skipWhitespace(),new tq(tH.break,void 0,1);return this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"obj-key":if(125===this.ch())return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new tq(tH.break,void 0,1);if(44!==this.ch())throw Error(`${re} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this.pos++,this.skipWhitespace(),new tq(tH.break,void 0,1);let e=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw Error(`${re} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw Error(`${re} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function oZ(e,t){return t=Object.assign({tokenizer:new oK(e,t)},t),nX(e,t)}function oQ(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=oL.asCID(e);if(!t)return null;let r=t.toString();return[new tq(tH.map,1/0,1),new tq(tH.string,"/",1),new tq(tH.string,r,r.length),new tq(tH.break,void 0,1)]}function oX(e){let t=oH.encode(e).slice(1);return[new tq(tH.map,1/0,1),new tq(tH.string,"/",1),new tq(tH.map,1/0,1),new tq(tH.string,"bytes",5),new tq(tH.string,t,t.length),new tq(tH.break,void 0,1),new tq(tH.break,void 0,1)]}function oY(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function o0(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}let o1={typeEncoders:{Object:oQ,Uint8Array:oX,Buffer:oX,undefined:oY,number:o0}};class o2 extends oK{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let e=this._next();if(e.type===tH.map){let t=this._next();if(t.type===tH.string&&"/"===t.value){let r=this._next();if(r.type===tH.string){let n=this._next();if(n.type!==tH.break)throw Error("Invalid encoded CID form");return this.tokenBuffer.push(r),new tq(tH.tag,42,0)}if(r.type===tH.map){let i=this._next();if(i.type===tH.string&&"bytes"===i.value){let o=this._next();if(o.type===tH.string){for(let s=0;s<2;s++){let a=this._next();if(a.type!==tH.break)throw Error("Invalid encoded Bytes form")}let u=oH.decode(`m${o.value}`);return new tq(tH.bytes,u,o.value.length)}this.tokenBuffer.push(o)}this.tokenBuffer.push(i)}this.tokenBuffer.push(r)}this.tokenBuffer.push(t)}return e}}let o5={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};o5.tags[42]=oL.parse;let o8="dag-json",o3=297,o6=e=>oG(e,o1),o4=e=>{let t=Object.assign(o5,{tokenizer:new o2(e,o5)});return oZ(e,t)},o7=e=>o9.decode(o6(e)),o9=new TextDecoder,se=e=>o4(st.encode(e)),st=new TextEncoder;function sr(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var sn=sr;new Uint8Array(0);let si=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},so=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ss=e=>new TextEncoder().encode(e),sa=e=>new TextDecoder().decode(e);class su{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sc{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return sf(this,e)}}class sl{constructor(e){this.decoders=e}or(e){return sf(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let sf=(e,t)=>new sl({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class sh{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new su(e,t,r),this.decoder=new sc(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let sd=({name:e,prefix:t,encode:r,decode:n})=>new sh(e,t,r,n),sp=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=sn(r,t);return sd({prefix:e,name:t,encode:n,decode:e=>so(i(e))})},sy=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},sb=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},sg=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sd({prefix:t,name:e,encode:e=>sb(e,n,r),decode:t=>sy(t,n,r,e)}),sm=sg({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sw=sg({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),sv=sg({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sE=sg({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function sx(e){return sv.encode(e).slice(1)}function sA(e){return sv.decode(`u${e}`)}var sC=sU,sS=128,sk=-128,sP=2147483648;function sU(e,t,r){t=t||[];for(var n=r=r||0;e>=sP;)t[r++]=255&e|sS,e/=128;for(;e&sk;)t[r++]=255&e|sS,e>>>=7;return t[r]=0|e,sU.bytes=r-n+1,t}var sT=sD,sI=128,sN=127;function sD(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw sD.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&sN)<<i:(r&sN)*Math.pow(2,i),i+=7}while(r>=sI);return sD.bytes=o-t,n}var sj=128,sB=16384,s$=2097152,sL=268435456,sz=34359738368,sO=4398046511104,sR=562949953421312,sM=72057594037927940,sF=0x7fffffffffffffff,sV={encode:sC,decode:sT,encodingLength:function(e){return e<sj?1:e<sB?2:e<s$?3:e<sL?4:e<sz?5:e<sO?6:e<sR?7:e<sM?8:e<sF?9:10}};let s_=(e,t=0)=>{let r=sV.decode(e,t);return[r,sV.decode.bytes]},sH=(e,t,r=0)=>(sV.encode(e,t,r),t),sq=e=>sV.encodingLength(e),sJ=(e,t)=>{let r=t.byteLength,n=sq(e),i=n+sq(r),o=new Uint8Array(i+r);return sH(e,o,0),sH(r,o,n),o.set(t,i),new sK(e,r,t,o)},sW=e=>{let t=so(e),[r,n]=s_(t),[i,o]=s_(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new sK(r,i,s,t)},sG=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&si(e.bytes,r.bytes)}};class sK{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let sZ=sp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sQ=sp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sX=sg({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sY=sg({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s0=sg({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s1=sg({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s2=sg({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s5=sg({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s8=sg({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),s3=sg({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),s6=sg({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),s4=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?ar(r,s9(e),t||sZ.encoder):an(r,s9(e),t||sX.encoder)},s7=new WeakMap,s9=e=>{let t=s7.get(e);if(null==t){let r=new Map;return s7.set(e,r),r}return t};class ae{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ai)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ao)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ae.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=sJ(e,t);return ae.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ae.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&sG(e.multihash,r.multihash)}toString(e){return s4(this,e)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof ae)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new ae(r,n,i,o||as(r,n,i.bytes))}if(!0!==t[aa])return null;{let{version:s,multihash:a,code:u}=t,c=sW(a);return ae.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===ai)return new ae(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${ai}) block encoding`);case 1:{let n=as(e,t,r.bytes);return new ae(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return ae.create(0,ai,e)}static createV1(e,t){return ae.create(1,e,t)}static decode(e){let[t,r]=ae.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ae.inspectBytes(e),r=t.size-t.multihashSize,n=so(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new sK(t.multihashCode,t.digestSize,i,n),s=0===t.version?ae.createV0(o):ae.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=s_(e.subarray(t));return t+=n,r},n=r(),i=ai;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=at(e,t),i=ae.decode(n);return s9(i).set(r,e),i}}let at=(e,t)=>{switch(e[0]){case"Q":{let r=t||sZ;return[sZ.prefix,r.decode(`${sZ.prefix}${e}`)]}case sZ.prefix:{let n=t||sZ;return[sZ.prefix,n.decode(e)]}case sX.prefix:{let i=t||sX;return[sX.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ar=(e,t,r)=>{let{prefix:n}=r;if(n!==sZ.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},an=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},ai=112,ao=18,as=(e,t,r)=>{let n=sq(e),i=n+sq(t),o=new Uint8Array(i+r.byteLength);return sH(e,o,0),sH(t,o,n),o.set(r,i),o},aa=Symbol.for("@ipld/js-cid/CID");function au(e){let[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:ae.decode(sA(r))}}function ac(e){let t={signature:sA(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=sA(e.protected)),t}function al(e){let t=sA(e.payload);try{ae.decode(t)}catch(r){throw Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(ac)}}function af(e){let t={signature:sx(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=sx(e.protected)),t}function ah(e){let t={payload:sx(e.payload),signatures:e.signatures.map(af)};return t.link=ae.decode(new Uint8Array(e.payload)),t}function ad(e){let[t,r,n,i,o]=e,s={ciphertext:i,iv:n,protected:t,tag:o};return r&&(s.recipients=[{encrypted_key:r}]),s}function ap(e){let t={};return e.encrypted_key&&(t.encrypted_key=sA(e.encrypted_key)),e.header&&(t.header=e.header),t}function ay(e){let t={ciphertext:sA(e.ciphertext),protected:sA(e.protected),iv:sA(e.iv),tag:sA(e.tag)};return e.aad&&(t.aad=sA(e.aad)),e.recipients&&(t.recipients=e.recipients.map(ap)),e.unprotected&&(t.unprotected=e.unprotected),t}function ab(e){let t={};return e.encrypted_key&&(t.encrypted_key=sx(e.encrypted_key)),e.header&&(t.header=e.header),t}function ag(e){let t={ciphertext:sx(e.ciphertext),protected:sx(e.protected),iv:sx(e.iv),tag:sx(e.tag)};return e.aad&&(t.aad=sx(e.aad)),e.recipients&&(t.recipients=e.recipients.map(ab)),e.unprotected&&(t.unprotected=e.unprotected),t}let am="dag-jose",aw=133;function av(e){return"payload"in e&&"string"==typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function aE(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function ax(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function aA(e){return"ciphertext"in e&&"string"==typeof e.ciphertext&&"iv"in e&&"string"==typeof e.iv&&"protected"in e&&"string"==typeof e.protected&&"tag"in e&&"string"==typeof e.tag}function aC(e){if("string"==typeof e){let t=e.split(".");if(3===t.length)return au(t);if(5===t.length)return ad(t);throw Error("Not a valid JOSE string")}if(av(e)||aA(e))return e;throw Error("Not a valid unencoded JOSE object")}function aS(e){"string"==typeof e&&(e=aC(e));let t;if(av(e))t=al(e);else if(aA(e))t=ay(e);else throw Error("Not a valid JOSE object");return new Uint8Array(iY(t))}function ak(e){let t;try{t=i0(e)}catch(r){throw Error("Not a valid DAG-JOSE object")}if(aE(t))return ah(t);if(ax(t))return ag(t);throw Error("Not a valid DAG-JOSE object")}let aP=0,aU="identity",aT=so,aI=e=>sJ(aP,aT(e)),aN={code:aP,name:aU,encode:aT,digest:aI},aD=sd({prefix:"\0",name:"identity",encode:e=>sa(e),decode:e=>ss(e)}),aj=sg({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),aB=sg({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),a$=sp({prefix:"9",name:"base10",alphabet:"0123456789"}),aL=sg({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),az=sg({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),aO=sp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aR=sp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),aM=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),aF=aM.reduce((e,t,r)=>(e[r]=t,e),[]),aV=aM.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function a_(e){return e.reduce((e,t)=>e+=aF[t],"")}function aH(e){let t=[];for(let r of e){let n=aV[r.codePointAt(0)];if(void 0===n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}let aq=sd({prefix:"\uD83D\uDE80",name:"base256emoji",encode:a_,decode:aH}),aJ=({name:e,code:t,encode:r})=>new aW(e,t,r);class aW{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?sJ(this.code,t):t.then(e=>sJ(this.code,e))}throw Error("Unknown type, must be binary type")}}let aG=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),aK=aJ({name:"sha2-256",code:18,encode:aG("SHA-256")}),aZ=aJ({name:"sha2-512",code:19,encode:aG("SHA-512")}),aQ="raw",aX=85,aY=e=>so(e),a0=e=>so(e),a1=new TextEncoder,a2=new TextDecoder,a5="json",a8=512,a3=e=>a1.encode(JSON.stringify(e)),a6=e=>JSON.parse(a2.decode(e)),a4={...y,...b,...g,...m,...w,...h,...v,...f,...l,...E},a7={...x,...p},a9={raw:A,json:C};class ue{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){let t=this.index,r=e();return void 0===r&&(this.index=t),r}parseWith(e){let t=e();if(this.index===this.input.length)return t}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{let t=this.readChar();if(t===e)return t})}readSeparator(e,t,r){return this.readAtomically(()=>{if(!(t>0)||void 0!==this.readGivenChar(e))return r()})}readNumber(e,t,r,n){return this.readAtomically(()=>{let i=0,o=0,s=this.peekChar();if(void 0===s)return;let a="0"===s,u=2**(8*n)-1;for(;;){let c=this.readAtomically(()=>{let t=this.readChar();if(void 0===t)return;let r=Number.parseInt(t,e);if(!Number.isNaN(r))return r});if(void 0===c)break;if(i*=e,(i+=c)>u||(o+=1,void 0!==t&&o>t))return}return 0===o?void 0:!r&&a&&o>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let e=new Uint8Array(4);for(let t=0;t<e.length;t++){let r=this.readSeparator(".",t,()=>this.readNumber(10,3,!1,1));if(void 0===r)return;e[t]=r}return e})}readIPv6Addr(){let e=e=>{for(let t=0;t<e.length/2;t++){let r=2*t;if(t<e.length-3){let n=this.readSeparator(":",t,()=>this.readIPv4Addr());if(void 0!==n)return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],[r+4,!0]}let i=this.readSeparator(":",t,()=>this.readNumber(16,4,!0,2));if(void 0===i)return[r,!1];e[r]=i>>8,e[r+1]=255&i}return[e.length,!1]};return this.readAtomically(()=>{let t=new Uint8Array(16),[r,n]=e(t);if(16===r)return t;if(n||void 0===this.readGivenChar(":")||void 0===this.readGivenChar(":"))return;let i=new Uint8Array(14),o=16-(r+2),[s]=e(i.subarray(0,o));return t.set(i.subarray(0,s),16-s),t})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}let ut=45,ur=15,un=new ue;function ui(e){if(!(e.length>ur))return un.new(e).parseWith(()=>un.readIPv4Addr())}function uo(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>ut))return un.new(e).parseWith(()=>un.readIPv6Addr())}function us(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>ut))return un.new(e).parseWith(()=>un.readIPAddr())}function ua(e){return Boolean(ui(e))}function uu(e){return Boolean(uo(e))}function uc(e){return Boolean(us(e))}function ul(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var uf=ul;new Uint8Array(0);let uh=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ud=e=>new TextEncoder().encode(e),up=e=>new TextDecoder().decode(e);class uy{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ub{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return um(this,e)}}class ug{constructor(e){this.decoders=e}or(e){return um(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let um=(e,t)=>new ug({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class uw{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new uy(e,t,r),this.decoder=new ub(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let uv=({name:e,prefix:t,encode:r,decode:n})=>new uw(e,t,r,n),uE=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=uf(r,t);return uv({prefix:e,name:t,encode:n,decode:e=>uh(i(e))})},ux=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},uA=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},uC=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>uv({prefix:t,name:e,encode:e=>uA(e,n,r),decode:t=>ux(t,n,r,e)}),uS=uE({prefix:"9",name:"base10",alphabet:"0123456789"}),uk=uC({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uP=uC({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),uU=uC({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uT=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),uI=uT.reduce((e,t,r)=>(e[r]=t,e),[]),uN=uT.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function uD(e){return e.reduce((e,t)=>e+=uI[t],"")}function uj(e){let t=[];for(let r of e){let n=uN[r.codePointAt(0)];if(void 0===n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}let uB=uv({prefix:"\uD83D\uDE80",name:"base256emoji",encode:uD,decode:uj}),u$=uC({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uL=uC({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uz=uC({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uO=uC({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uR=uC({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uM=uC({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uF=uC({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uV=uC({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),u_=uC({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),uH=uE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uq=uE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),uJ=uE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uW=uE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),uG=uC({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uK=uC({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uZ=uC({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uQ=uC({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),uX=uC({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),uY=uv({prefix:"\0",name:"identity",encode:e=>up(e),decode:e=>ud(e)}),u0=new TextEncoder,u1=new TextDecoder,u2="json",u5=512,u8=e=>u0.encode(JSON.stringify(e)),u3=e=>JSON.parse(u1.decode(e)),u6="raw",u4=85,u7=e=>uh(e),u9=e=>uh(e);var ce=ci,ct=128,cr=-128,cn=2147483648;function ci(e,t,r){t=t||[];for(var n=r=r||0;e>=cn;)t[r++]=255&e|ct,e/=128;for(;e&cr;)t[r++]=255&e|ct,e>>>=7;return t[r]=0|e,ci.bytes=r-n+1,t}var co=cu,cs=128,ca=127;function cu(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw cu.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&ca)<<i:(r&ca)*Math.pow(2,i),i+=7}while(r>=cs);return cu.bytes=o-t,n}var cc=128,cl=16384,cf=2097152,ch=268435456,cd=34359738368,cp=4398046511104,cy=562949953421312,cb=72057594037927940,cg=0x7fffffffffffffff,cm={encode:ce,decode:co,encodingLength:function(e){return e<cc?1:e<cl?2:e<cf?3:e<ch?4:e<cd?5:e<cp?6:e<cy?7:e<cb?8:e<cg?9:10}};let cw=(e,t,r=0)=>(cm.encode(e,t,r),t),cv=e=>cm.encodingLength(e),cE=(e,t)=>{let r=t.byteLength,n=cv(e),i=n+cv(r),o=new Uint8Array(i+r);return cw(e,o,0),cw(r,o,n),o.set(t,i),new cx(e,r,t,o)};class cx{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let cA=0,cC="identity",cS=uh,ck=e=>cE(cA,cS(e)),cP={code:cA,name:cC,encode:cS,digest:ck},cU=({name:e,code:t,encode:r})=>new cT(e,t,r);class cT{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?cE(this.code,t):t.then(e=>cE(this.code,e))}throw Error("Unknown type, must be binary type")}}let cI=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),cN=cU({name:"sha2-256",code:18,encode:cI("SHA-256")}),cD=cU({name:"sha2-512",code:19,encode:cI("SHA-512")}),cj=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?cO(r,c$(e),t||base58btc.encoder):cR(r,c$(e),t||base32.encoder)},cB=new WeakMap,c$=e=>{let t=cB.get(e);if(null==t){let r=new Map;return cB.set(e,r),r}return t};class cL{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==cM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==cF)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return cL.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return cL.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return cL.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return cj(this,e)}toJSON(){return{"/":cj(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof cL)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new cL(r,n,i,o||cV(r,n,i.bytes))}if(!0!==t[c_])return null;{let{version:s,multihash:a,code:u}=t,c=Digest.decode(a);return cL.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===cM)return new cL(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${cM}) block encoding`);case 1:{let n=cV(e,t,r.bytes);return new cL(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return cL.create(0,cM,e)}static createV1(e,t){return cL.create(1,e,t)}static decode(e){let[t,r]=cL.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=cL.inspectBytes(e),r=t.size-t.multihashSize,n=coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,i,n),s=0===t.version?cL.createV0(o):cL.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=varint.decode(e.subarray(t));return t+=n,r},n=r(),i=cM;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=cz(e,t),i=cL.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return c$(i).set(r,e),i}}let cz=(e,t)=>{switch(e[0]){case"Q":{let r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{let n=t||base58btc;return[base58btc.prefix,n.decode(e)]}case base32.prefix:{let i=t||base32;return[base32.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},cO=(e,t,r)=>{let{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},cR=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},cM=112,cF=18,cV=(e,t,r)=>{let n=varint.encodingLength(e),i=n+varint.encodingLength(t),o=new Uint8Array(i+r.byteLength);return varint.encodeTo(e,o,0),varint.encodeTo(t,o,n),o.set(r,i),o},c_=Symbol.for("@ipld/js-cid/CID"),cH={...B,...P,...j,...S,...k,...T,...I,...N,...D,...U};function cq(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function cJ(e=0){return globalThis.Buffer?.allocUnsafe!=null?cq(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function cW(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let cG=cW("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>{let t=new TextEncoder;return t.encode(e.substring(1))}),cK=cW("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=cJ(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),cZ={utf8:cG,"utf-8":cG,hex:cH.base16,latin1:cK,ascii:cK,binary:cK,...cH};var cQ=cZ;function cX(e,t="utf8"){let r=cQ[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let cY=ua,c0=uu,c1=function(e){let t=0;if(cY(e=e.toString().trim())){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(e=>{r[t++]=255&parseInt(e,10)}),r}if(c0(e)){let n=e.split(":",8),i;for(i=0;i<n.length;i++){let o=cY(n[i]),s;o&&(s=c1(n[i]),n[i]=cX(s.slice(0,2),"base16")),null!=s&&++i<8&&n.splice(i,0,cX(s.slice(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(i=0;i<n.length&&""!==n[i];i++);let a=[i,1];for(i=9-n.length;i>0;i--)a.push("0");n.splice.apply(n,a)}let u=new Uint8Array(t+16);for(i=0;i<n.length;i++){let c=parseInt(n[i],16);u[t++]=c>>8&255,u[t++]=255&c}return u}throw Error("invalid ip address")},c2=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(4===r){let i=[];for(let o=0;o<r;o++)i.push(e[t+o]);return i.join(".")}if(16===r){let s=[];for(let a=0;a<r;a+=2)s.push(n.getUint16(t+a).toString(16));return s.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},c5=-1,c8={},c3={},c6=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,c5,"ip6zone"],[43,8,"ipcidr"],[53,c5,"dns",!0],[54,c5,"dns4",!0],[55,c5,"dns6",!0],[56,c5,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,c5,"unix",!1,!0],[421,c5,"ipfs"],[421,c5,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,c5,"garlic64"],[448,0,"tls"],[449,c5,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,c5,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,c5,"memory"]];function c4(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}function c7(e){if("number"==typeof e){if(null!=c3[e])return c3[e];throw Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=c8[e])return c8[e];throw Error(`no protocol with name: ${e}`)}throw Error(`invalid protocol id type: ${typeof e}`)}c6.forEach(e=>{let t=c4(...e);c3[t.code]=t,c8[t.name]=t});var c9=ln,le=128,lt=-128,lr=2147483648;function ln(e,t,r){t=t||[];for(var n=r=r||0;e>=lr;)t[r++]=255&e|le,e/=128;for(;e&lt;)t[r++]=255&e|le,e>>>=7;return t[r]=0|e,ln.bytes=r-n+1,t}var li=la,lo=128,ls=127;function la(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw la.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&ls)<<i:(r&ls)*Math.pow(2,i),i+=7}while(r>=lo);return la.bytes=o-t,n}var lu=128,lc=16384,ll=2097152,lf=268435456,lh=34359738368,ld=4398046511104,lp=562949953421312,ly=72057594037927940,lb=0x7fffffffffffffff,lg={encode:c9,decode:li,encodingLength:function(e){return e<lu?1:e<lc?2:e<ll?3:e<lf?4:e<lh?5:e<ld?6:e<lp?7:e<ly?8:e<lb?9:10}};let lm=(e,t=0)=>{let r=lg.decode(e,t);return[r,lg.decode.bytes]},lw=(e,t,r=0)=>(lg.encode(e,t,r),t),lv=e=>lg.encodingLength(e);new Uint8Array(0);let lE=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},lx=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},lA=e=>new TextEncoder().encode(e),lC=e=>new TextDecoder().decode(e),lS=(e,t)=>{let r=t.byteLength,n=lv(e),i=n+lv(r),o=new Uint8Array(i+r);return lw(e,o,0),lw(r,o,n),o.set(t,i),new lU(e,r,t,o)},lk=e=>{let t=lx(e),[r,n]=lm(t),[i,o]=lm(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new lU(r,i,s,t)},lP=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&lE(e.bytes,r.bytes)}};class lU{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function lT(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var lI=lT;class lN{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lD{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return lB(this,e)}}class lj{constructor(e){this.decoders=e}or(e){return lB(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let lB=(e,t)=>new lj({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class l${constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new lN(e,t,r),this.decoder=new lD(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let lL=({name:e,prefix:t,encode:r,decode:n})=>new l$(e,t,r,n),lz=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=lI(r,t);return lL({prefix:e,name:t,encode:n,decode:e=>lx(i(e))})},lO=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},lR=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},lM=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>lL({prefix:t,name:e,encode:e=>lR(e,n,r),decode:t=>lO(t,n,r,e)}),lF=lz({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lV=lz({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),l_=lM({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lH=lM({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lq=lM({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lJ=lM({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lW=lM({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lG=lM({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lK=lM({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lZ=lM({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lQ=lM({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lX=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?l5(r,l0(e),t||lF.encoder):l8(r,l0(e),t||l_.encoder)},lY=new WeakMap,l0=e=>{let t=lY.get(e);if(null==t){let r=new Map;return lY.set(e,r),r}return t};class l1{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==l3)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==l6)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return l1.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=lS(e,t);return l1.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return l1.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&lP(e.multihash,r.multihash)}toString(e){return lX(this,e)}toJSON(){return{"/":lX(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof l1)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new l1(r,n,i,o||l4(r,n,i.bytes))}if(!0!==t[l7])return null;{let{version:s,multihash:a,code:u}=t,c=lk(a);return l1.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===l3)return new l1(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${l3}) block encoding`);case 1:{let n=l4(e,t,r.bytes);return new l1(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return l1.create(0,l3,e)}static createV1(e,t){return l1.create(1,e,t)}static decode(e){let[t,r]=l1.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=l1.inspectBytes(e),r=t.size-t.multihashSize,n=lx(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new lU(t.multihashCode,t.digestSize,i,n),s=0===t.version?l1.createV0(o):l1.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=lm(e.subarray(t));return t+=n,r},n=r(),i=l3;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=l2(e,t),i=l1.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return l0(i).set(r,e),i}}let l2=(e,t)=>{switch(e[0]){case"Q":{let r=t||lF;return[lF.prefix,r.decode(`${lF.prefix}${e}`)]}case lF.prefix:{let n=t||lF;return[lF.prefix,n.decode(e)]}case l_.prefix:{let i=t||l_;return[l_.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},l5=(e,t,r)=>{let{prefix:n}=r;if(n!==lF.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},l8=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},l3=112,l6=18,l4=(e,t,r)=>{let n=lv(e),i=n+lv(t),o=new Uint8Array(i+r.byteLength);return lw(e,o,0),lw(t,o,n),o.set(r,i),o},l7=Symbol.for("@ipld/js-cid/CID"),l9=lL({prefix:"\0",name:"identity",encode:e=>lC(e),decode:e=>lA(e)}),fe=lM({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ft=lM({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),fr=lz({prefix:"9",name:"base10",alphabet:"0123456789"}),fn=lM({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fi=lM({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),fo=lz({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),fs=lz({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),fa=lM({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),fu=lM({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fc=lM({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fl=lM({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ff=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),fh=ff.reduce((e,t,r)=>(e[r]=t,e),[]),fd=ff.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function fp(e){return e.reduce((e,t)=>e+=fh[t],"")}function fy(e){let t=[];for(let r of e){let n=fd[r.codePointAt(0)];if(void 0===n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}let fb=lL({prefix:"\uD83D\uDE80",name:"base256emoji",encode:fp,decode:fy}),fg=({name:e,code:t,encode:r})=>new fm(e,t,r);class fm{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?lS(this.code,t):t.then(e=>lS(this.code,e))}throw Error("Unknown type, must be binary type")}}let fw=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),fv=fg({name:"sha2-256",code:18,encode:fw("SHA-256")}),fE=fg({name:"sha2-512",code:19,encode:fw("SHA-512")}),fx=0,fA="identity",fC=lx,fS=e=>lS(fx,fC(e)),fk={code:fx,name:fA,encode:fC,digest:fS},fP="raw",fU=85,fT=e=>lx(e),fI=e=>lx(e),fN=new TextEncoder,fD=new TextDecoder,fj="json",fB=512,f$=e=>fN.encode(JSON.stringify(e)),fL=e=>JSON.parse(fD.decode(e)),fz={...F,...V,..._,...H,...q,...M,...J,...R,...W,...G};var fO=r(94676);function fR(e,t="utf8"){let r=cQ[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?cq(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function fM(e,t){null==t&&(t=e.reduce((e,t)=>e+t.length,0));let r=cJ(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return cq(r)}function fF(e,t){let r=c7(e);switch(r.code){case 4:case 41:return fW(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fQ(t);case 6:case 273:case 33:case 132:return fK(t).toString();case 421:return f1(t);case 444:case 445:return f8(t);case 466:return f0(t);default:return cX(t,"base16")}}function fV(e,t){let r=c7(e);switch(r.code){case 4:case 41:return fJ(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fZ(t);case 6:case 273:case 33:case 132:return fG(parseInt(t,10));case 421:return fX(t);case 444:return f2(t);case 445:return f5(t);case 466:return fY(t);default:return fR(t,"base16")}}let f_=Object.values(fz).map(e=>e.decoder),fH,fq=(fH=f_[0].or(f_[1]),f_.slice(2).forEach(e=>fH=fH.or(e)),fH);function fJ(e){if(!uc(e))throw Error("invalid ip address");return c1(e)}function fW(e){let t=c2(e,0,e.length);if(null==t)throw Error("ipBuff is required");if(!uc(t))throw Error("invalid ip address");return t}function fG(e){let t=new ArrayBuffer(2),r=new DataView(t);return r.setUint16(0,e),new Uint8Array(t)}function fK(e){let t=new DataView(e.buffer);return t.getUint16(e.byteOffset)}function fZ(e){let t=fR(e),r=Uint8Array.from(fO.encode(t.length));return fM([r,t],r.length+t.length)}function fQ(e){let t=fO.decode(e);if((e=e.slice(fO.decode.bytes)).length!==t)throw Error("inconsistent lengths");return cX(e)}function fX(e){let t;t="Q"===e[0]||"1"===e[0]?lk(lF.decode(`z${e}`)).bytes:l1.parse(e).multihash.bytes;let r=Uint8Array.from(fO.encode(t.length));return fM([r,t],r.length+t.length)}function fY(e){let t=fq.decode(e),r=Uint8Array.from(fO.encode(t.length));return fM([r,t],r.length+t.length)}function f0(e){let t=fO.decode(e),r=e.slice(fO.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return"u"+cX(r,"base64url")}function f1(e){let t=fO.decode(e),r=e.slice(fO.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return cX(r,"base58btc")}function f2(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=l_.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=fG(n);return fM([r,i],r.length+i.length)}function f5(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=l_.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=fG(n);return fM([r,i],r.length+i.length)}function f8(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=cX(t,"base32"),i=fK(r);return`${n}:${i}`}function f3(e){let t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){let i=r[n],o=c7(i);if(0===o.size){t.push([i]);continue}if(++n>=r.length)throw hu("invalid address: "+e);if(!0===o.path){t.push([i,ha(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function f6(e){let t=[];return e.map(e=>{let r=hc(e);return t.push(r.name),e.length>1&&null!=e[1]&&t.push(e[1]),null}),ha(t.join("/"))}function f4(e){return e.map(e=>{Array.isArray(e)||(e=[e]);let t=hc(e);return e.length>1?[t.code,fV(t.code,e[1])]:[t.code]})}function f7(e){return e.map(e=>{let t=hc(e);return null!=e[1]?[t.code,fF(t.code,e[1])]:[t.code]})}function f9(e){return ho(fM(e.map(e=>{let t=hc(e),r=Uint8Array.from(fO.encode(t.code));return e.length>1&&null!=e[1]&&(r=fM([r,e[1]])),r})))}function he(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;{let r=fO.decode(t);return r+(fO.decode.bytes??0)}}function ht(e){let t=[],r=0;for(;r<e.length;){let n=fO.decode(e,r),i=fO.decode.bytes??0,o=c7(n),s=he(o,e.slice(r+i));if(0===s){t.push([n]),r+=i;continue}let a=e.slice(r+i,r+i+s);if((r+=s+i)>e.length)throw hu("Invalid address Uint8Array: "+cX(e,"base16"));t.push([n,a])}return t}function hr(e){let t=ht(e),r=f7(t);return f6(r)}function hn(e){e=ha(e);let t=f3(e),r=f4(t);return f9(r)}function hi(e){return hn(e)}function ho(e){let t=hs(e);if(null!=t)throw t;return Uint8Array.from(e)}function hs(e){try{ht(e)}catch(t){return t}}function ha(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function hu(e){return Error("Error parsing address: "+e)}function hc(e){let t=c7(e[0]);return t}var hl=r(32114);function hf(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var hh=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},hd=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let hp=Symbol.for("nodejs.util.inspect.custom"),hy=[c7("dns").code,c7("dns4").code,c7("dns6").code,c7("dnsaddr").code],hb=new Map,hg=Symbol.for("@multiformats/js-multiaddr/multiaddr");function hm(e){return Boolean(e?.[hg])}class hw{constructor(e){if(n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),this[s]=!0,null==e&&(e=""),e instanceof Uint8Array)this.bytes=ho(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw Error(`multiaddr "${e}" must start with a "/"`);this.bytes=hi(e)}else if(hm(e))this.bytes=ho(e.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return null==hh(this,n,"f")&&hd(this,n,hr(this.bytes),"f"),hh(this,n,"f")}toJSON(){return this.toString()}toOptions(){let e,t,r,n,i="",o=c7("tcp"),s=c7("udp"),a=c7("ip4"),u=c7("ip6"),c=c7("dns6"),l=c7("ip6zone");for(let[f,h]of this.stringTuples())f===l.code&&(i=`%${h??""}`),hy.includes(f)&&(t=o.name,n=443,r=`${h??""}${i}`,e=f===c.code?6:4),(f===o.code||f===s.code)&&(t=c7(f).name,n=parseInt(h??"")),(f===a.code||f===u.code)&&(t=c7(f).name,r=`${h??""}${i}`,e=f===u.code?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');let d={family:e,host:r,transport:t,port:n};return d}protos(){return this.protoCodes().map(e=>Object.assign({},c7(e)))}protoCodes(){let e=[],t=this.bytes,r=0;for(;r<t.length;){let n=fO.decode(t,r),i=fO.decode.bytes??0,o=c7(n),s=he(o,t.slice(r+i));r+=s+i,e.push(n)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return null==hh(this,i,"f")&&hd(this,i,ht(this.bytes),"f"),hh(this,i,"f")}stringTuples(){return null==hh(this,o,"f")&&hd(this,o,f7(this.tuples()),"f"),hh(this,o,"f")}encapsulate(e){return e=new hw(e),new hw(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new hw(r.slice(0,n))}decapsulateCode(e){let t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new hw(f9(t.slice(0,r)));return this}getPeerId(){try{let e=this.stringTuples().filter(e=>e[0]===c8.ipfs.code),t=e.pop();if(t?.[1]!=null){let r=t[1];if("Q"===r[0]||"1"===r[0])return cX(lF.decode(`z${r}`),"base58btc");return cX(l1.parse(r).multihash.bytes,"base58btc")}return null}catch(n){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(e=>{let t=c7(e[0]);return!0===t.path})[0][1],null==e&&(e=null)}catch{e=null}return e}equals(e){return hf(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=hb.get(t.name);if(null==r)throw hl(Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");let n=await r(this,e);return n.map(e=>new hw(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return 2===t.length&&(4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code)}[(n=new WeakMap,i=new WeakMap,o=new WeakMap,s=hg,hp)](){return`Multiaddr(${hr(this.bytes)})`}}function hv(e){return new hw(e)}var hE=r(106);let hx=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;function hA(e="",t="ms"){var r=null,n="-"===(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"))[0];return e.replace(hx,function(e,t,n){(n=hC(n))&&(r=(r||0)+Math.abs(parseFloat(t,10))*n)}),r&&r/(hC(t)||1)*(n?-1:1)}function hC(e){return hA[e]||hA[e.toLowerCase().replace(/s$/,"")]}hA.nanosecond=hA.ns=1/1e6,hA["\xb5s"]=hA["s"]=hA.us=hA.microsecond=.001,hA.millisecond=hA.ms=hA[""]=1,hA.second=hA.sec=hA.s=1e3*hA.ms,hA.minute=hA.min=hA.m=60*hA.s,hA.hour=hA.hr=hA.h=60*hA.m,hA.day=hA.d=24*hA.h,hA.week=hA.wk=hA.w=7*hA.d,hA.month=hA.b=30.4375*hA.d,hA.year=hA.yr=hA.y=365.25*hA.d;var hS=hA,hk=r(11227);function hP(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}var hU=hP;new Uint8Array(0);let hT=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class hI{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hN{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return hj(this,e)}}class hD{constructor(e){this.decoders=e}or(e){return hj(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let hj=(e,t)=>new hD({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class hB{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new hI(e,t,r),this.decoder=new hN(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let h$=({name:e,prefix:t,encode:r,decode:n})=>new hB(e,t,r,n),hL=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=hU(r,t);return h$({prefix:e,name:t,encode:n,decode:e=>hT(i(e))})},hz=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw SyntaxError("Unexpected end of data");return a},hO=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},hR=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>h$({prefix:t,name:e,encode:e=>hO(e,n,r),decode:t=>hz(t,n,r,e)}),hM=hL({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});hL({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let hF=hR({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});hR({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hR({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hR({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hR({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hR({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hR({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hR({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hR({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let hV=hR({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function h_(e){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function hH(e){let t=h_(`${e}:trace`);return hk.enabled(`${e}:trace`)&&null!=hk.names.map(e=>e.toString()).find(e=>e.includes(":trace"))&&(t=hk(`${e}:trace`)),Object.assign(hk(e),{error:hk(`${e}:error`),trace:t})}hR({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hR({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hR({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),hk.formatters.b=e=>null==e?"undefined":hM.baseEncode(e),hk.formatters.t=e=>null==e?"undefined":hF.baseEncode(e),hk.formatters.m=e=>null==e?"undefined":hV.baseEncode(e),hk.formatters.p=e=>null==e?"undefined":e.toString(),hk.formatters.c=e=>null==e?"undefined":e.toString(),hk.formatters.k=e=>null==e?"undefined":e.toString(),hk.formatters.a=e=>null==e?"undefined":e.toString();var hq=r(67137),hJ=r(70942);class hW extends Error{code;props;constructor(e,t,r){super(e),this.code=t,this.name=r?.name??"CodeError",this.props=r??{}}}function hG(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function hK(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}function hZ(e){return new TextEncoder().encode(e)}function hQ(e){return new TextDecoder().decode(e)}function hX(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===c[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(c[p]);return y}function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}function d(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:h,decode:d}}new Uint8Array(0);var hY=hX;class h0{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class h1{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return h5(this,e)}}class h2{decoders;constructor(e){this.decoders=e}or(e){return h5(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function h5(e,t){return new h2({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class h8{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new h0(e,t,r),this.decoder=new h1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function h3({name:e,prefix:t,encode:r,decode:n}){return new h8(e,t,r,n)}function h6({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=hY(r,e);return h3({prefix:t,name:e,encode:n,decode:e=>hK(i(e))})}function h4(e,t,r,n){let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,c=0,l=0;for(let f=0;f<s;++f){let h=i[e[f]];if(void 0===h)throw SyntaxError(`Non-${n} character`);c=c<<r|h,(u+=r)>=8&&(u-=8,a[l++]=255&c>>u)}if(u>=r||(255&c<<8-u)!=0)throw SyntaxError("Unexpected end of data");return a}function h7(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(0!==s&&(o+=t[i&a<<r-s]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function h9({name:e,prefix:t,bitsPerChar:r,alphabet:n}){return h3({prefix:t,name:e,encode:e=>h7(e,n,r),decode:t=>h4(t,n,r,e)})}let de=h6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dt=h6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),dr=h9({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dn=h9({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),di=h9({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ds=h9({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),da=h9({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),du=h9({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dc=h9({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dl=h9({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),df=h9({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dh=db,dd=128,dp=-128,dy=2147483648;function db(e,t,r){t=t||[];for(var n=r=r||0;e>=dy;)t[r++]=255&e|dd,e/=128;for(;e&dp;)t[r++]=255&e|dd,e>>>=7;return t[r]=0|e,db.bytes=r-n+1,t}var dg=dv,dm=128,dw=127;function dv(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw dv.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&dw)<<i:(r&dw)*Math.pow(2,i),i+=7}while(r>=dm);return dv.bytes=o-t,n}var dE=128,dx=16384,dA=2097152,dC=268435456,dS=34359738368,dk=4398046511104,dP=562949953421312,dU=72057594037927940,dT=0x7fffffffffffffff,dI={encode:dh,decode:dg,encodingLength:function(e){return e<dE?1:e<dx?2:e<dA?3:e<dC?4:e<dS?5:e<dk?6:e<dP?7:e<dU?8:e<dT?9:10}};function dN(e,t=0){let r=dI.decode(e,t);return[r,dI.decode.bytes]}function dD(e,t,r=0){return dI.encode(e,t,r),t}function dj(e){return dI.encodingLength(e)}function dB(e,t){let r=t.byteLength,n=dj(e),i=n+dj(r),o=new Uint8Array(i+r);return dD(e,o,0),dD(r,o,n),o.set(t,i),new dz(e,r,t,o)}function d$(e){let t=hK(e),[r,n]=dN(t),[i,o]=dN(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw Error("Incorrect length");return new dz(r,i,s,t)}function dL(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&hG(e.bytes,r.bytes)}}class dz{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function dO(e,t){let{bytes:r,version:n}=e;return 0===n?d_(r,dM(e),t??de.encoder):dH(r,dM(e),t??dr.encoder)}let dR=new WeakMap;function dM(e){let t=dR.get(e);if(null==t){let r=new Map;return dR.set(e,r),r}return t}class dF{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==dq)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==dJ)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return dF.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=dB(e,t);return dF.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return dF.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&dL(e.multihash,r.multihash)}toString(e){return dO(this,e)}toJSON(){return{"/":dO(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof dF)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new dF(r,n,i,o??dW(r,n,i.bytes))}if(!0!==t[dG])return null;{let{version:s,multihash:a,code:u}=t,c=d$(a);return dF.create(s,u,c)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===dq)return new dF(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${dq}) block encoding`);case 1:{let n=dW(e,t,r.bytes);return new dF(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return dF.create(0,dq,e)}static createV1(e,t){return dF.create(1,e,t)}static decode(e){let[t,r]=dF.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=dF.inspectBytes(e),r=t.size-t.multihashSize,n=hK(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new dz(t.multihashCode,t.digestSize,i,n),s=0===t.version?dF.createV0(o):dF.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=dN(e.subarray(t));return t+=n,r},n=r(),i=dq;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a,c=u-o;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c,size:u}}static parse(e,t){let[r,n]=dV(e,t),i=dF.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return dM(i).set(r,e),i}}function dV(e,t){switch(e[0]){case"Q":{let r=t??de;return[de.prefix,r.decode(`${de.prefix}${e}`)]}case de.prefix:{let n=t??de;return[de.prefix,n.decode(e)]}case dr.prefix:{let i=t??dr;return[dr.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function d_(e,t,r){let{prefix:n}=r;if(n!==de.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}}function dH(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}}let dq=112,dJ=18;function dW(e,t,r){let n=dj(e),i=n+dj(t),o=new Uint8Array(i+r.byteLength);return dD(e,o,0),dD(t,o,n),o.set(r,i),o}let dG=Symbol.for("@ipld/js-cid/CID");function dK(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}let dZ=h6({prefix:"9",name:"base10",alphabet:"0123456789"}),dQ=h9({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dX=h9({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),dY=h9({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d0=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),d1=d0.reduce((e,t,r)=>(e[r]=t,e),[]),d2=d0.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function d5(e){return e.reduce((e,t)=>e+=d1[t],"")}function d8(e){let t=[];for(let r of e){let n=d2[r.codePointAt(0)];if(void 0===n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}let d3=h3({prefix:"\uD83D\uDE80",name:"base256emoji",encode:d5,decode:d8}),d6=h6({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d4=h6({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),d7=h9({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),d9=h9({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pe=h9({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pt=h9({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pr=h9({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),pn=h3({prefix:"\0",name:"identity",encode:e=>hQ(e),decode:e=>hZ(e)}),pi=new TextEncoder,po=new TextDecoder,ps="json",pa=512;function pu(e){return pi.encode(JSON.stringify(e))}function pc(e){return JSON.parse(po.decode(e))}let pl="raw",pf=85;function ph(e){return hK(e)}function pd(e){return hK(e)}let pp=0,py="identity",pb=hK;function pg(e){return dB(pp,pb(e))}let pm={code:pp,name:py,encode:pb,digest:pg};function pw({name:e,code:t,encode:r}){return new pv(e,t,r)}class pv{name;code;encode;constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?dB(this.code,t):t.then(e=>dB(this.code,e))}throw Error("Unknown type, must be binary type")}}function pE(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}let px=pw({name:"sha2-256",code:18,encode:pE("SHA-256")}),pA=pw({name:"sha2-512",code:19,encode:pE("SHA-512")}),pC={...eu,...en,...ea,...et,...er,...ee,...eo,...Y,...es,...ei};function pS(e=0){return new Uint8Array(e)}function pk(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let pP=pk("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>{let t=new TextEncoder;return t.encode(e.substring(1))}),pU=pk("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=pS(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),pT={utf8:pP,"utf-8":pP,hex:pC.base16,latin1:pU,ascii:pU,binary:pU,...pC};var pI=pT;function pN(e,t="utf8"){let r=pI[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}function pD(e=0){return new Uint8Array(e)}let pj=128,pB=16384,p$=2097152,pL=268435456,pz=34359738368,pO=4398046511104,pR=562949953421312,pM=128,pF=127;function pV(e){if(e<pj)return 1;if(e<pB)return 2;if(e<p$)return 3;if(e<pL)return 4;if(e<pz)return 5;if(e<pO)return 6;if(e<pR)return 7;if(null!=Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw RangeError("Could not encode varint");return 8}function p_(e,t,r=0){switch(pV(e)){case 8:t[r++]=255&e|pM,e/=128;case 7:t[r++]=255&e|pM,e/=128;case 6:t[r++]=255&e|pM,e/=128;case 5:t[r++]=255&e|pM,e/=128;case 4:t[r++]=255&e|pM,e>>>=7;case 3:t[r++]=255&e|pM,e>>>=7;case 2:t[r++]=255&e|pM,e>>>=7;case 1:t[r++]=255&e,e>>>=7;break;default:throw Error("unreachable")}return t}function pH(e,t,r=0){switch(pV(e)){case 8:t.set(r++,255&e|pM),e/=128;case 7:t.set(r++,255&e|pM),e/=128;case 6:t.set(r++,255&e|pM),e/=128;case 5:t.set(r++,255&e|pM),e/=128;case 4:t.set(r++,255&e|pM),e>>>=7;case 3:t.set(r++,255&e|pM),e>>>=7;case 2:t.set(r++,255&e|pM),e>>>=7;case 1:t.set(r++,255&e),e>>>=7;break;default:throw Error("unreachable")}return t}function pq(e,t){let r=e[t],n=0;if(n+=r&pF,r<pM||(n+=((r=e[t+1])&pF)<<7,r<pM)||(n+=((r=e[t+2])&pF)<<14,r<pM)||(n+=((r=e[t+3])&pF)<<21,r<pM)||(n+=((r=e[t+4])&pF)*pL,r<pM)||(n+=((r=e[t+5])&pF)*pz,r<pM)||(n+=((r=e[t+6])&pF)*pO,r<pM)||(n+=((r=e[t+7])&pF)*pR,r<pM))return n;throw RangeError("Could not decode varint")}function pJ(e,t){let r=e.get(t),n=0;if(n+=r&pF,r<pM||(n+=((r=e.get(t+1))&pF)<<7,r<pM)||(n+=((r=e.get(t+2))&pF)<<14,r<pM)||(n+=((r=e.get(t+3))&pF)<<21,r<pM)||(n+=((r=e.get(t+4))&pF)*pL,r<pM)||(n+=((r=e.get(t+5))&pF)*pz,r<pM)||(n+=((r=e.get(t+6))&pF)*pO,r<pM)||(n+=((r=e.get(t+7))&pF)*pR,r<pM))return n;throw RangeError("Could not decode varint")}function pW(e,t,r=0){return(null==t&&(t=pD(pV(e))),t instanceof Uint8Array)?p_(e,t,r):pH(e,t,r)}function pG(e,t=0){return e instanceof Uint8Array?pq(e,t):pJ(e,t)}function pK(e){return e}function pZ(e,t){null==t&&(t=e.reduce((e,t)=>e+t.length,0));let r=pS(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return pK(r)}function pQ(e,t="utf8"){let r=pI[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}parseInt("0xFFFF",16),new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255,]);let pX=ua,pY=uu,p0=function(e){let t=0;if(pX(e=e.toString().trim())){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(e=>{r[t++]=255&parseInt(e,10)}),r}if(pY(e)){let n=e.split(":",8),i;for(i=0;i<n.length;i++){let o=pX(n[i]),s;o&&(s=p0(n[i]),n[i]=pN(s.slice(0,2),"base16")),null!=s&&++i<8&&n.splice(i,0,pN(s.slice(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(i=0;i<n.length&&""!==n[i];i++);let a=[i,1];for(i=9-n.length;i>0;i--)a.push("0");n.splice.apply(n,a)}let u=new Uint8Array(t+16);for(i=0;i<n.length;i++){let c=parseInt(n[i],16);u[t++]=c>>8&255,u[t++]=255&c}return u}throw Error("invalid ip address")},p1=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(4===r){let i=[];for(let o=0;o<r;o++)i.push(e[t+o]);return i.join(".")}if(16===r){let s=[];for(let a=0;a<r;a+=2)s.push(n.getUint16(t+a).toString(16));return s.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},p2=-1,p5={},p8={},p3=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,p2,"ip6zone"],[43,8,"ipcidr"],[53,p2,"dns",!0],[54,p2,"dns4",!0],[55,p2,"dns6",!0],[56,p2,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,p2,"unix",!1,!0],[421,p2,"ipfs"],[421,p2,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,p2,"garlic64"],[448,0,"tls"],[449,p2,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,p2,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,p2,"http-path"],[777,p2,"memory"]];function p6(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}function p4(e){if("number"==typeof e){if(null!=p8[e])return p8[e];throw Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=p5[e])return p5[e];throw Error(`no protocol with name: ${e}`)}throw Error(`invalid protocol id type: ${typeof e}`)}function p7(e,t){let r=p4(e);switch(r.code){case 4:case 41:return yi(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return yu(t);case 6:case 273:case 33:case 132:return ys(t).toString();case 421:return yh(t);case 444:case 445:return yy(t);case 466:return yf(t);case 481:return globalThis.encodeURIComponent(yu(t));default:return pN(t,"base16")}}function p9(e,t){let r=p4(e);switch(r.code){case 4:case 41:return yn(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return ya(t);case 6:case 273:case 33:case 132:return yo(parseInt(t,10));case 421:return yc(t);case 444:return yd(t);case 445:return yp(t);case 466:return yl(t);case 481:return ya(globalThis.decodeURIComponent(t));default:return pQ(t,"base16")}}p3.forEach(e=>{let t=p6(...e);p8[t.code]=t,p5[t.name]=t}),p4("ip4"),p4("ip6"),p4("ipcidr");let ye=Object.values(pC).map(e=>e.decoder),yt,yr=(yt=ye[0].or(ye[1]),ye.slice(2).forEach(e=>yt=yt.or(e)),yt);function yn(e){if(!uc(e))throw Error("invalid ip address");return p0(e)}function yi(e){let t=p1(e,0,e.length);if(null==t)throw Error("ipBuff is required");if(!uc(t))throw Error("invalid ip address");return t}function yo(e){let t=new ArrayBuffer(2),r=new DataView(t);return r.setUint16(0,e),new Uint8Array(t)}function ys(e){let t=new DataView(e.buffer);return t.getUint16(e.byteOffset)}function ya(e){let t=pQ(e),r=Uint8Array.from(pW(t.length));return pZ([r,t],r.length+t.length)}function yu(e){let t=pG(e);if((e=e.slice(pV(t))).length!==t)throw Error("inconsistent lengths");return pN(e)}function yc(e){let t;t="Q"===e[0]||"1"===e[0]?d$(de.decode(`z${e}`)).bytes:dF.parse(e).multihash.bytes;let r=Uint8Array.from(pW(t.length));return pZ([r,t],r.length+t.length)}function yl(e){let t=yr.decode(e),r=Uint8Array.from(pW(t.length));return pZ([r,t],r.length+t.length)}function yf(e){let t=pG(e),r=e.slice(pV(t));if(r.length!==t)throw Error("inconsistent lengths");return"u"+pN(r,"base64url")}function yh(e){let t=pG(e),r=e.slice(pV(t));if(r.length!==t)throw Error("inconsistent lengths");return pN(r,"base58btc")}function yd(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=dr.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yo(n);return pZ([r,i],r.length+i.length)}function yp(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=dr.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yo(n);return pZ([r,i],r.length+i.length)}function yy(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=pN(t,"base32"),i=ys(r);return`${n}:${i}`}function yb(e){e=yE(e);let t=[],r=[],n=null,i=e.split("/").slice(1);if(1===i.length&&""===i[0])return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let o=0;o<i.length;o++){let s=i[o],a=p4(s);if(0===a.size){t.push([a.code]),r.push([a.code]);continue}if(++o>=i.length)throw yx("invalid address: "+e);if(!0===a.path){n=yE(i.slice(o).join("/")),t.push([a.code,p9(a.code,n)]),r.push([a.code,n]);break}let u=p9(a.code,i[o]);t.push([a.code,u]),r.push([a.code,p7(a.code,u)])}return{string:ym(r),bytes:yw(t),tuples:t,stringTuples:r,path:n}}function yg(e){let t=[],r=[],n=null,i=0;for(;i<e.length;){let o=pG(e,i),s=pV(o),a=p4(o),u=yv(a,e.slice(i+s));if(0===u){t.push([o]),r.push([o]),i+=s;continue}let c=e.slice(i+s,i+s+u);if((i+=u+s)>e.length)throw yx("Invalid address Uint8Array: "+pN(e,"base16"));t.push([o,c]);let l=p7(o,c);if(r.push([o,l]),!0===a.path){n=l;break}}return{bytes:Uint8Array.from(e),string:ym(r),tuples:t,stringTuples:r,path:n}}function ym(e){let t=[];return e.map(e=>{let r=p4(e[0]);return t.push(r.name),e.length>1&&null!=e[1]&&t.push(e[1]),null}),yE(t.join("/"))}function yw(e){return pZ(e.map(e=>{let t=p4(e[0]),r=Uint8Array.from(pW(t.code));return e.length>1&&null!=e[1]&&(r=pZ([r,e[1]])),r}))}function yv(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;{let r=pG(t instanceof Uint8Array?t:Uint8Array.from(t));return r+pV(r)}}function yE(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function yx(e){return Error("Error parsing address: "+e)}let yA=Symbol.for("nodejs.util.inspect.custom"),yC=Symbol.for("@multiformats/js-multiaddr/multiaddr"),yS=[p4("dns").code,p4("dns4").code,p4("dns6").code,p4("dnsaddr").code];class yk{bytes;#a;#b;#c;#d;[yC]=!0;constructor(e){null==e&&(e="");let t;if(e instanceof Uint8Array)t=yg(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw Error(`multiaddr "${e}" must start with a "/"`);t=yb(e)}else if(yU(e))t=yg(e.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=t.bytes,this.#a=t.string,this.#b=t.tuples,this.#c=t.stringTuples,this.#d=t.path}toString(){return this.#a}toJSON(){return this.toString()}toOptions(){let e,t,r,n,i="",o=p4("tcp"),s=p4("udp"),a=p4("ip4"),u=p4("ip6"),c=p4("dns6"),l=p4("ip6zone");for(let[f,h]of this.stringTuples())f===l.code&&(i=`%${h??""}`),yS.includes(f)&&(t=o.name,n=443,r=`${h??""}${i}`,e=f===c.code?6:4),(f===o.code||f===s.code)&&(t=p4(f).name,n=parseInt(h??"")),(f===a.code||f===u.code)&&(t=p4(f).name,r=`${h??""}${i}`,e=f===u.code?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');let d={family:e,host:r,transport:t,port:n};return d}protos(){return this.#b.map(([e])=>Object.assign({},p4(e)))}protoCodes(){return this.#b.map(([e])=>e)}protoNames(){return this.#b.map(([e])=>p4(e).name)}tuples(){return this.#b}stringTuples(){return this.#c}encapsulate(e){return e=new yk(e),new yk(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new yk(r.slice(0,n))}decapsulateCode(e){let t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new yk(yw(t.slice(0,r)));return this}getPeerId(){try{let e=[];this.stringTuples().forEach(([t,r])=>{t===p5.p2p.code&&e.push([t,r]),t===p5["p2p-circuit"].code&&(e=[])});let t=e.pop();if(t?.[1]!=null){let r=t[1];if("Q"===r[0]||"1"===r[0])return pN(de.decode(`z${r}`),"base58btc");return pN(dF.parse(r).multihash.bytes,"base58btc")}return null}catch(n){return null}}getPath(){return this.#d}equals(e){return dK(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=yP.get(t.name);if(null==r)throw new hW(`no available resolver for ${t.name}`,"ERR_NO_AVAILABLE_RESOLVER");let n=await r(this,e);return n.map(e=>yT(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return 2===t.length&&(4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code)}[yA](){return`Multiaddr(${this.#a})`}}let yP=new Map;function yU(e){return Boolean(e?.[yC])}function yT(e){return new yk(e)}function yI(e){let t;try{t=p4("sni").code}catch(r){return null}for(let[n,i]of e)if(n===t&&void 0!==i)return i;return null}function yN(e){return e.some(([e,t])=>e===p4("tls").code)}function yD(e,t,r){let n=yj[p4(e).name];if(void 0===n)throw Error(`Can't interpret protocol ${p4(e).name}`);let i=n(t,r);return e===p4("ip6").code?`[${i}]`:i}let yj={ip4:(e,t)=>e,ip6:(e,t)=>0===t.length?e:`[${e}]`,tcp(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`tcp://${yD(r[0],r[1]??"",t)}:${e}`},udp(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`udp://${yD(r[0],r[1]??"",t)}:${e}`},dnsaddr:(e,t)=>e,dns4:(e,t)=>e,dns6:(e,t)=>e,dns:(e,t)=>e,ipfs(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yD(r[0],r[1]??"",t)}/ipfs/${e}`},p2p(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yD(r[0],r[1]??"",t)}/p2p/${e}`},http(e,t){let r=yN(t),n=yI(t);if(r&&null!==n)return`https://${n}`;let i=r?"https://":"http://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let s=yD(o[0],o[1]??"",t);return`${i}${s=s.replace("tcp://","")}`},tls(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return yD(r[0],r[1]??"",t)},sni(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return yD(r[0],r[1]??"",t)},https(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=yD(r[0],r[1]??"",t);return`https://${n=n.replace("tcp://","")}`},ws(e,t){let r=yN(t),n=yI(t);if(r&&null!==n)return`wss://${n}`;let i=r?"wss://":"ws://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let s=yD(o[0],o[1]??"",t);return`${i}${s=s.replace("tcp://","")}`},wss(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=yD(r[0],r[1]??"",t);return`wss://${n=n.replace("tcp://","")}`},"p2p-websocket-star"(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yD(r[0],r[1]??"",t)}/p2p-websocket-star`},"p2p-webrtc-star"(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yD(r[0],r[1]??"",t)}/p2p-webrtc-star`},"p2p-webrtc-direct"(e,t){let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yD(r[0],r[1]??"",t)}/p2p-webrtc-direct`}};function yB(e,t){let r=yT(e),n=r.stringTuples(),i=n.pop();if(void 0===i)throw Error("Unexpected end of multiaddr");let o=p4(i[0]),s=yj[o.name];if(null==s)throw Error(`No interpreter found for ${o.name}`);let a=s(i[1]??"",n);return t?.assumeHttp!==!1&&i[0]===p4("tcp").code&&(a=a.replace("tcp://","http://"),("443"===i[1]||"80"===i[1])&&("443"===i[1]&&(a=a.replace("http://","https://")),a=a.substring(0,a.lastIndexOf(":")))),a}function y$(e){try{e=yB(hv(e))}catch(t){}return e=e.toString()}var yL=()=>{};let yz=hH("ipfs-http-client:lib:error-handler"),yO=hJ.bind({ignoreUndefined:!0}),yR=hE.isBrowser||hE.isWebWorker?location.protocol:"http",yM=hE.isBrowser||hE.isWebWorker?location.hostname:"localhost",yF=hE.isBrowser||hE.isWebWorker?location.port:"5001",yV=(e={})=>{let t,r={},n;if("string"==typeof e||hm(e))t=new URL(y$(e));else if(e instanceof URL)t=e;else if("string"==typeof e.url||hm(e.url))t=new URL(y$(e.url)),r=e;else if(e.url instanceof URL)t=e.url,r=e;else{r=e||{};let i=(r.protocol||yR).replace(":",""),o=(r.host||yM).split(":")[0],s=r.port||yF;t=new URL(`${i}://${o}:${s}`)}if(r.apiPath?t.pathname=r.apiPath:("/"===t.pathname||void 0===t.pathname)&&(t.pathname="api/v0"),hE.isNode){let a=yL(t);n=r.agent||new a({keepAlive:!0,maxSockets:6})}return{...r,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:n}},y_=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let r=await e.json();yz(r),t=r.Message||r.message}else t=await e.text()}catch(n){yz("Failed to parse error response",n),t=n.message}let i=new hq.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(i=new hq.TimeoutError),t&&t.includes("context deadline exceeded")&&(i=new hq.TimeoutError)),t&&t.includes("request timed out")&&(i=new hq.TimeoutError),t&&(i.message=t),i},yH=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,yq=e=>e.replace(yH,function(e){return"-"+e.toLowerCase()}),yJ=e=>"string"==typeof e?hS(e):e;class yW extends hq{constructor(e={}){let t=yV(e);super({timeout:yJ(t.timeout||0)||void 0,headers:t.headers,base:`${t.url}`,handleError:y_,transformSearchParams(e){let t=new URLSearchParams;for(let[r,n]of e)"undefined"!==n&&"null"!==n&&"signal"!==r&&t.append(yq(r),n),"timeout"!==r||isNaN(n)||t.append(yq(r),n);return t},agent:t.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let r=this.fetch;this.fetch=(e,n={})=>("string"!=typeof e||e.startsWith("/")||(e=`${t.url}/${e}`),r.call(this,e,yO(n,{method:"POST"})))}}hq.HTTPError;let yG=e=>t=>e(new yW(t),t);function yK(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}function yZ(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw hl(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}function yQ({arg:e,searchParams:t,hashAlg:r,mtime:n,mode:i,...o}={}){t&&(o={...o,...t}),r&&(o.hash=r),null!=n&&(n=yZ(n),o.mtime=n.secs,o.mtimeNsecs=n.nsecs),null!=i&&(o.mode=yK(i)),o.timeout&&!isNaN(o.timeout)&&(o.timeout=`${o.timeout}ms`),null==e?e=[]:Array.isArray(e)||(e=[e]);let s=new URLSearchParams(o);return e.forEach(e=>s.append("arg",e)),s}let yX=yG(e=>{async function t(t={}){let r=await (await e.post("bitswap/wantlist",{signal:t.signal,searchParams:yQ(t),headers:t.headers})).json();return(r.Keys||[]).map(e=>ae.parse(e["/"]))}return t}),yY=yG(e=>{async function t(t,r={}){let n=await (await e.post("bitswap/wantlist",{signal:r.signal,searchParams:yQ({...r,peer:t.toString()}),headers:r.headers})).json();return(n.Keys||[]).map(e=>ae.parse(e["/"]))}return t}),y0=Symbol.for("@libp2p/peer-id"),y1=Symbol.for("nodejs.util.inspect.custom"),y2=Object.values(a4).map(e=>e.decoder).reduce((e,t)=>e.or(t),a4.identity.decoder),y5=114,y8=36,y3=37;class y6{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[y0](){return!0}toString(){return null==this.string&&(this.string=sZ.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return ae.createV1(y5,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return hf(this.multihash.bytes,e);if("string"==typeof e)return be(e).equals(this);if(e?.multihash?.bytes!=null)return hf(this.multihash.bytes,e.multihash.bytes);throw Error("not valid Id")}[y1](){return`PeerId(${this.toString()})`}}class y4 extends y6{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}}class y7 extends y6{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}}class y9 extends y6{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}}function be(e,t){if(t=t??y2,"1"===e.charAt(0)||"Q"===e.charAt(0)){let r=sW(sZ.decode(`z${e}`));return e.startsWith("12D")?new y7({multihash:r}):e.startsWith("16U")?new y9({multihash:r}):new y4({multihash:r})}return bt(y2.decode(e))}function bt(e){try{let t=sW(e);if(t.code===aN.code){if(t.digest.length===y8)return new y7({multihash:t});if(t.digest.length===y3)return new y9({multihash:t})}if(t.code===aK.code)return new y4({multihash:t})}catch{return br(ae.decode(e))}throw Error("Supplied PeerID CID is invalid")}function br(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==y5)throw Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===aK.code)return new y4({multihash:e.multihash});if(t.code===aN.code){if(t.digest.length===y8)return new y7({multihash:e.multihash});if(t.digest.length===y3)return new y9({multihash:e.multihash})}throw Error("Supplied PeerID CID is invalid")}let bn=yG(e=>{async function t(t={}){let r=await e.post("bitswap/stat",{searchParams:yQ(t),signal:t.signal,headers:t.headers});return bi(await r.json())}return t});function bi(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(e=>ae.parse(e["/"])),peers:(e.Peers||[]).map(e=>be(e)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}let bo=yG(e=>{async function t(t,r={}){let n=await e.post("bitswap/unwant",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers});return n.json()}return t});function bs(e){return{wantlist:yX(e),wantlistForPeer:yY(e),unwant:bo(e),stat:bn(e)}}let ba=yG(e=>{async function t(t,r={}){let n=await e.post("block/get",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers});return new Uint8Array(await n.arrayBuffer())}return t});function bu(e){let[t,r]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push(e){n.push(e)},next:()=>n.length>0?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}async function*bc(e,t={}){let r=e.getReader();try{for(;;){let n=await r.read();if(n.done)return;yield n.value}}finally{!0!==t.preventCancel&&await r.cancel(),r.releaseLock()}}async function bl(e){let t=[];for await(let r of e)t.push(r);return t}function bf(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function bh(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function bd(e){return"object"==typeof e&&(e.path||e.content)}let bp=e=>e&&"function"==typeof e.getReader;async function by(e){if(bf(e))return new Blob([e]);if("string"==typeof e||e instanceof String)return new Blob([e.toString()]);if(bh(e))return e;if(bp(e)&&(e=bc(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=bu(e),{value:r,done:n}=await t.peek();if(n)return bb(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await bl(t))]);if(bf(r)||"string"==typeof r||r instanceof String)return bb(t)}throw hl(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function bb(e){let t=[];for await(let r of e)t.push(r);return new Blob(t)}async function*bg(e,t){for await(let r of e)yield t(r)}var bm=r(7050);let bw=bm.Reader,bv=bm.Writer,bE=bm.util,bx=bm.roots["ipfs-unixfs"]||(bm.roots["ipfs-unixfs"]={});function bA(e){return null==e?void 0:"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function bC(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw hl(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}async function*bS(e,t){if("string"==typeof e||e instanceof String||bf(e)||bh(e)||e._readableState)throw hl(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(bp(e)&&(e=bc(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=bu(e),{value:n,done:i}=await r.peek();if(i){yield*[];return}if(r.push(n),Number.isInteger(n))throw hl(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*bg(r,e=>bk({content:e},t));return}if(bf(n)){yield bk({content:r},t);return}if(bd(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||bp(n)||bh(n)){yield*bg(r,e=>bk(e,t));return}}if(bd(e))throw hl(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw hl(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function bk(e,t){let{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:bA(n),mtime:bC(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function bP(e){return bS(e,by,!0)}function bU(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}async function bT(e,t,r={}){let n=[],i=new FormData,o=0,s=0;for await(let{content:a,path:u,mode:c,mtime:l}of bP(e)){let f="",h=a?"file":"dir";o>0&&(f=`-${o}`);let d=h+f,p=[];if(null!=c&&p.push(`mode=${bU(c)}`),null!=l){let{secs:y,nsecs:b}=l;p.push(`mtime=${y}`),null!=b&&p.push(`mtime-nsecs=${b}`)}if(p.length&&(d=`${d}?${p.join("&")}`),a){i.set(d,a,null!=u?encodeURIComponent(u):void 0);let g=s+a.size;n.push({name:u,start:s,end:g}),s=g}else if(null!=u)i.set(d,new File([""],encodeURIComponent(u),{type:"application/x-directory"}));else throw Error("path or content or both must be set");o++}return{total:s,parts:n,headers:r,body:i}}bx.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=bE.newBuffer([]),e.prototype.filesize=bE.Long?bE.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=bE.emptyArray,e.prototype.hashType=bE.Long?bE.Long.fromBits(0,0,!0):0,e.prototype.fanout=bE.Long?bE.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=bv.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&bx.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof bw||(e=bw.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new bx.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(7&i)==2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=bx.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw bE.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof bx.Data)return e;var t=new bx.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?bE.base64.decode(e.Data,t.Data=bE.newBuffer(bE.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(bE.Long?(t.filesize=bE.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new bE.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)bE.Long?(t.blocksizes[r]=bE.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new bE.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(bE.Long?(t.hashType=bE.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new bE.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(bE.Long?(t.fanout=bE.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new bE.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=bx.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=bE.newBuffer(r.Data))),bE.Long){var n=new bE.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(bE.Long){var n=new bE.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(bE.Long){var n=new bE.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?bx.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?bE.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?bE.Long.prototype.toString.call(e.filesize):t.longs===Number?new bE.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?bE.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new bE.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?bE.Long.prototype.toString.call(e.hashType):t.longs===Number?new bE.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?bE.Long.prototype.toString.call(e.fanout):t.longs===Number?new bE.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=bx.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,bm.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),bx.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=bE.Long?bE.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=bv.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof bw||(e=bw.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new bx.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw bE.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof bx.UnixTime)return e;var t=new bx.UnixTime;return null!=e.Seconds&&(bE.Long?(t.Seconds=bE.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new bE.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(bE.Long){var n=new bE.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?bE.Long.prototype.toString.call(e.Seconds):t.longs===Number?new bE.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,bm.util.toJSONOptions)},e})(),bx.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=bv.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof bw||(e=bw.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new bx.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof bx.Metadata)return e;var t=new bx.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,bm.util.toJSONOptions)},e})(),parseInt("0644",8),parseInt("0755",8);var bI=r(32044);function bN(e){return e.filter(Boolean)}function bD(...e){return(0,bI.anySignal)(bN(e))}let bj=yG(e=>{async function t(r,n={}){let i=new AbortController,o=bD(i.signal,n.signal),s;try{let a=await e.post("block/put",{signal:o,searchParams:yQ(n),...await bT([r],i,n.headers)});s=await a.json()}catch(u){if("dag-pb"===n.format)return t(r,{...n,format:"protobuf"});if("dag-cbor"===n.format)return t(r,{...n,format:"cbor"});throw u}return ae.parse(s.Key)}return t}),bB=yG(e=>{async function*t(t,r={}){Array.isArray(t)||(t=[t]);let n=await e.post("block/rm",{signal:r.signal,searchParams:yQ({arg:t.map(e=>e.toString()),"stream-channels":!0,...r}),headers:r.headers});for await(let i of n.ndjson())yield b$(i)}return t});function b$(e){let t={cid:ae.parse(e.Hash)};return e.Error&&(t.error=Error(e.Error)),t}let bL=yG(e=>{async function t(t,r={}){let n=await e.post("block/stat",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers}),i=await n.json();return{cid:ae.parse(i.Key),size:i.Size}}return t});function bz(e){return{get:ba(e),put:bj(e),rm:bB(e),stat:bL(e)}}let bO=yG(e=>{async function t(t,r={}){let n=await e.post("bootstrap/add",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>hv(e))}}return t}),bR=yG(e=>{async function t(t={}){let r=await e.post("bootstrap/rm",{signal:t.signal,searchParams:yQ({...t,all:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>hv(e))}}return t}),bM=yG(e=>{async function t(t={}){let r=await e.post("bootstrap/list",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>hv(e))}}return t}),bF=yG(e=>{async function t(t={}){let r=await e.post("bootstrap/add",{signal:t.signal,searchParams:yQ({...t,default:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>hv(e))}}return t}),bV=yG(e=>{async function t(t,r={}){let n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>hv(e))}}return t});function b_(e){return{add:bO(e),clear:bR(e),list:bM(e),reset:bF(e),rm:bV(e)}}let bH=yG(e=>{async function t(t,r={}){let n=await e.post("config/profile/apply",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return{original:i.OldCfg,updated:i.NewCfg}}return t});function bq(e){if(null==e)return e;let t=/^[A-Z]+$/,r={};return Object.keys(e).reduce((r,n)=>(t.test(n)?r[n.toLowerCase()]=e[n]:t.test(n[0])?r[n[0].toLowerCase()+n.slice(1)]=e[n]:r[n]=e[n],r),r)}let bJ=yG(e=>{async function t(t={}){let r=await e.post("config/profile/list",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),n=await r.json();return n.map(e=>bq(e))}return t});function bW(e){return{apply:bH(e),list:bJ(e)}}let bG=yG(e=>{let t=async(t,r={})=>{if(!t)throw Error("key argument is required");let n=await e.post("config",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return i.Value};return t}),bK=yG(e=>{let t=async(t={})=>{let r=await e.post("config/show",{signal:t.signal,searchParams:yQ({...t}),headers:t.headers}),n=await r.json();return n};return t}),bZ=yG(e=>{let t=async(t,r={})=>{let n=new AbortController,i=bD(n.signal,r.signal),o=await e.post("config/replace",{signal:i,searchParams:yQ(r),...await bT([fR(JSON.stringify(t))],n,r.headers)});await o.text()};return t}),bQ=yG(e=>{let t=async(t,r,n={})=>{if("string"!=typeof t)throw Error("Invalid key type");let i={...n,...bX(t,r)},o=await e.post("config",{signal:n.signal,searchParams:yQ(i),headers:n.headers});await o.text()};return t}),bX=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function bY(e){return{getAll:bK(e),get:bG(e),set:bQ(e),replace:bZ(e),profiles:bW(e)}}let b0=yG(e=>{async function*t(t,r={}){let n=await e.post("dag/export",{signal:r.signal,searchParams:yQ({arg:t.toString()}),headers:r.headers});yield*n.iterator()}return t});async function*b1(e,t,r,n,i){let o=async e=>{let t=await r.getCodec(e.code),o=await n(e,i);return t.decode(o)},s=t.split("/").filter(Boolean),a=await o(e),u=e;for(;s.length;){let c=s.shift();if(!c)throw hl(Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(a,c))yield{value:a=a[c],remainderPath:s.join("/")};else throw hl(Error(`no link named "${c}" under ${u}`),"ERR_NO_LINK");let l=ae.asCID(a);l&&(u=l,a=await o(a))}yield{value:a,remainderPath:""}}async function b2(e){for await(let t of e)return t}async function b5(e){let t;for await(let r of e)t=r;return t}let b8=(e,t)=>{let r=yG((t,r)=>{let n=ba(r),i=async(t,r={})=>{if(r.path){let i=r.localResolve?await b2(b1(t,r.path,e,n,r)):await b5(b1(t,r.path,e,n,r)),o=i;if(!o)throw hl(Error("Not found"),"ERR_NOT_FOUND");return o}let s=await e.getCodec(t.code),a=await n(t,r),u=s.decode(a);return{value:u,remainderPath:""}};return i});return r(t)},b3=yG(e=>{async function*t(t,r={}){let n=new AbortController,i=bD(n.signal,r.signal),{headers:o,body:s}=await bT(t,n,r.headers),a=await e.post("dag/import",{signal:i,headers:o,body:s,searchParams:yQ({"pin-roots":r.pinRoots})});for await(let{Root:u}of a.ndjson())if(void 0!==u){let{Cid:{"/":c},PinErrorMsg:l}=u;yield{root:{cid:ae.parse(c),pinErrorMsg:l}}}}return t}),b6=(e,t)=>{let r=yG(t=>{let r=async(r,n={})=>{let i={storeCodec:"dag-cbor",hashAlg:"sha2-256",...n},o;if(i.inputCodec){if(!(r instanceof Uint8Array))throw Error("Can only inputCodec on raw bytes that can be decoded");o=r}else{let s=await e.getCodec(i.storeCodec);o=s.encode(r),i.inputCodec=i.storeCodec}let a=new AbortController,u=bD(a.signal,i.signal),c=await t.post("dag/put",{timeout:i.timeout,signal:u,searchParams:yQ(i),...await bT([o],a,i.headers)}),l=await c.json();return ae.parse(l.Cid["/"])};return r});return r(t)},b4=yG(e=>{let t=async(t,r={})=>{let n=await e.post("dag/resolve",{signal:r.signal,searchParams:yQ({arg:`${t}${r.path?`/${r.path}`.replace(/\/[/]+/g,"/"):""}`,...r}),headers:r.headers}),i=await n.json();return{cid:ae.parse(i.Cid["/"]),remainderPath:i.RemPath}};return t});function b7(e,t){return{export:b0(t),get:b8(e,t),import:b3(t),put:b6(e,t),resolve:b4(t)}}let b9=0,ge=1,gt=2,gr=3,gn=4,gi=5,go=6,gs=7,ga=e=>{if(e.Type===b9)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===ge)return{from:be(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:be(e),multiaddrs:t.map(e=>hv(e)),protocols:[]})),providers:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:be(e),multiaddrs:t.map(e=>hv(e)),protocols:[]}))};if(e.Type===gt){let t={id:e.ID??be(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(t={id:be(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(e=>hv(e)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:t}}if(e.Type===gr)return{name:"QUERY_ERROR",type:e.Type,error:Error(e.Extra)};if(e.Type===gn)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:e,Addrs:t})=>({id:be(e),multiaddrs:t.map(e=>hv(e)),protocols:[]}))};if(e.Type===gi)return{name:"VALUE",type:e.Type,value:fR(e.Extra,"base64pad")};if(e.Type===go){let r=e.Responses.map(({ID:e})=>be(e));if(!r.length)throw Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:r[0]}}if(e.Type===gs)return{name:"DIALING_PEER",type:e.Type,peer:be(e.ID)};throw Error("Unknown DHT event type")},gu=yG(e=>{async function*t(t,r={}){let n=await e.post("dht/findpeer",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers});for await(let i of n.ndjson())yield ga(i)}return t}),gc=yG(e=>{async function*t(t,r={}){let n=await e.post("dht/findprovs",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers});for await(let i of n.ndjson())yield ga(i)}return t}),gl=yG(e=>{async function*t(t,r={}){let n=await e.post("dht/get",{signal:r.signal,searchParams:yQ({arg:t instanceof Uint8Array?cX(t):t.toString(),...r}),headers:r.headers});for await(let i of n.ndjson())yield ga(i)}return t}),gf=yG(e=>{async function*t(t,r={recursive:!1}){let n=Array.isArray(t)?t:[t],i=await e.post("dht/provide",{signal:r.signal,searchParams:yQ({arg:n.map(e=>e.toString()),...r}),headers:r.headers});for await(let o of i.ndjson())yield ga(o)}return t}),gh=yG(e=>{async function*t(t,r,n={}){let i=new AbortController,o=bD(i.signal,n.signal),s=await e.post("dht/put",{signal:o,searchParams:yQ({arg:t instanceof Uint8Array?cX(t):t.toString(),...n}),...await bT([r],i,n.headers)});for await(let a of s.ndjson())yield ga(a)}return t}),gd=yG(e=>{async function*t(t,r={}){let n=await e.post("dht/query",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers});for await(let i of n.ndjson())yield ga(i)}return t});function gp(e){return{findPeer:gu(e),findProvs:gc(e),get:gl(e),provide:gf(e),put:gh(e),query:gd(e)}}let gy=yG(e=>{async function t(t={}){let r=await e.post("diag/cmds",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return r.json()}return t}),gb=yG(e=>{async function t(t={}){let r=await e.post("diag/net",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return r.json()}return t}),gg=yG(e=>{async function t(t={}){let r=await e.post("diag/sys",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return r.json()}return t});function gm(e){return{cmds:gy(e),net:gb(e),sys:gg(e)}}let gw=yG(e=>{async function t(t,r,n={}){let i=await e.post("files/chmod",{signal:n.signal,searchParams:yQ({arg:t,mode:r,...n}),headers:n.headers});await i.text()}return t}),gv=yG(e=>{async function t(t,r,n={}){let i=Array.isArray(t)?t:[t],o=await e.post("files/cp",{signal:n.signal,searchParams:yQ({arg:i.concat(r).map(e=>ae.asCID(e)?`/ipfs/${e}`:e),...n}),headers:n.headers});await o.text()}return t}),gE=yG(e=>{async function t(t,r={}){if(!t||"string"!=typeof t)throw Error("ipfs.files.flush requires a path");let n=await e.post("files/flush",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return ae.parse(i.Cid)}return t});function gx(e){let t=bq(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}let gA=yG(e=>{async function*t(t,r={}){if(!t)throw Error("ipfs.files.ls requires a path");let n=await e.post("files/ls",{signal:r.signal,searchParams:yQ({arg:ae.asCID(t)?`/ipfs/${t}`:t,long:!0,...r,stream:!0}),headers:r.headers});for await(let i of n.ndjson())if("Entries"in i)for(let o of i.Entries||[])yield gC(gx(o));else yield gC(gx(i))}return t});function gC(e){return e.hash&&(e.cid=ae.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}let gS=yG(e=>{async function t(t,r={}){let n=await e.post("files/mkdir",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers});await n.text()}return t}),gk=yG(e=>{async function t(t,r,n={}){Array.isArray(t)||(t=[t]);let i=await e.post("files/mv",{signal:n.signal,searchParams:yQ({arg:t.concat(r),...n}),headers:n.headers});await i.text()}return t});var gP=r(50590);let gU=yG(e=>{async function*t(t,r={}){let n=await e.post("files/read",{signal:r.signal,searchParams:yQ({arg:t,count:r.length,...r}),headers:r.headers});yield*gP(n.body)}return t}),gT=yG(e=>{async function t(t,r={}){let n=await e.post("files/rm",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.text();if(""!==i){let o=new hq.HTTPError(n);throw o.message=i,o}}return t}),gI=yG(e=>{async function t(t,r={}){let n=await e.post("files/stat",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return i.WithLocality=i.WithLocality||!1,gN(gx(i))}return t});function gN(e){return e.cid=ae.parse(e.hash),delete e.hash,e}let gD=yG(e=>{async function t(t,r={}){let n=await e.post("files/touch",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers});await n.text()}return t}),gj=yG(e=>{async function t(t,r,n={}){let i=new AbortController,o=bD(i.signal,n.signal),s=await e.post("files/write",{signal:o,searchParams:yQ({arg:t,streamChannels:!0,count:n.length,...n}),...await bT([{content:r,path:"arg",mode:yK(n.mode),mtime:yZ(n.mtime)}],i,n.headers)});await s.text()}return t});function gB(e){return{chmod:gw(e),cp:gv(e),flush:gE(e),ls:gA(e),mkdir:gS(e),mv:gk(e),read:gU(e),rm:gT(e),stat:gI(e),touch:gD(e),write:gj(e)}}let g$=yG(e=>{let t=async(e,t,r={})=>{throw hl(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return t}),gL=yG(e=>{async function t(t,r={type:"Ed25519"}){let n=await e.post("key/gen",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return bq(i)}return t}),gz=yG(e=>{async function t(t,r,n,i={}){let o=await e.post("key/import",{signal:i.signal,searchParams:yQ({arg:t,pem:r,password:n,...i}),headers:i.headers}),s=await o.json();return bq(s)}return t}),gO=yG(e=>{let t=async(e,t={})=>{throw hl(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return t}),gR=yG(e=>{async function t(t={}){let r=await e.post("key/list",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),n=await r.json();return(n.Keys||[]).map(e=>bq(e))}return t}),gM=yG(e=>{async function t(t,r,n={}){let i=await e.post("key/rename",{signal:n.signal,searchParams:yQ({arg:[t,r],...n}),headers:n.headers});return bq(await i.json())}return t}),gF=yG(e=>{async function t(t,r={}){let n=await e.post("key/rm",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return bq(i.Keys[0])}return t});function gV(e){return{export:g$(e),gen:gL(e),import:gz(e),info:gO(e),list:gR(e),rename:gM(e),rm:gF(e)}}let g_=yG(e=>{async function t(t,r,n={}){let i=await e.post("log/level",{signal:n.signal,searchParams:yQ({arg:[t,r],...n}),headers:n.headers});return bq(await i.json())}return t}),gH=yG(e=>{async function t(t={}){let r=await e.post("log/ls",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),n=await r.json();return n.Strings}return t}),gq=yG(e=>{async function*t(t={}){let r=await e.post("log/tail",{signal:t.signal,searchParams:yQ(t),headers:t.headers});yield*r.ndjson()}return t});function gJ(e){return{level:g_(e),ls:gH(e),tail:gq(e)}}let gW=yG(e=>{async function t(t,r={}){let n=await e.post("name/publish",{signal:r.signal,searchParams:yQ({arg:`${t}`,...r}),headers:r.headers});return bq(await n.json())}return t}),gG=yG(e=>{async function*t(t,r={}){let n=await e.post("name/resolve",{signal:r.signal,searchParams:yQ({arg:t,stream:!0,...r}),headers:r.headers});for await(let i of n.ndjson())yield i.Path}return t}),gK=yG(e=>{async function t(t,r={}){let n=await e.post("name/pubsub/cancel",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers});return bq(await n.json())}return t}),gZ=yG(e=>{async function t(t={}){let r=await e.post("name/pubsub/state",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return bq(await r.json())}return t}),gQ=yG(e=>{async function t(t={}){let r=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),n=await r.json();return n.Strings||[]}return t});function gX(e){return{cancel:gK(e),state:gZ(e),subs:gQ(e)}}function gY(e){return{publish:gW(e),resolve:gG(e),pubsub:gX(e)}}let g0=yG(e=>{async function t(t,r={}){let n=await e.post("object/data",{signal:r.signal,searchParams:yQ({arg:`${t instanceof Uint8Array?ae.decode(t):t}`,...r}),headers:r.headers}),i=await n.arrayBuffer();return new Uint8Array(i,0,i.byteLength)}return t}),g1=yG(e=>{async function t(t,r={}){let n=await e.post("object/get",{signal:r.signal,searchParams:yQ({arg:`${t instanceof Uint8Array?ae.decode(t):t}`,dataEncoding:"base64",...r}),headers:r.headers}),i=await n.json();return{Data:fR(i.Data,"base64pad"),Links:(i.Links||[]).map(e=>({Name:e.Name,Hash:ae.parse(e.Hash),Tsize:e.Size}))}}return t}),g2=yG(e=>{async function t(t,r={}){let n=await e.post("object/links",{signal:r.signal,searchParams:yQ({arg:`${t instanceof Uint8Array?ae.decode(t):t}`,...r}),headers:r.headers}),i=await n.json();return(i.Links||[]).map(e=>({Name:e.Name,Tsize:e.Size,Hash:ae.parse(e.Hash)}))}return t}),g5=yG(e=>{async function t(t={}){let r=await e.post("object/new",{signal:t.signal,searchParams:yQ({arg:t.template,...t}),headers:t.headers}),{Hash:n}=await r.json();return ae.parse(n)}return t}),g8=(e,t)=>{let r=yG(r=>{let n=b6(e,t);async function i(e,t={}){return n(e,{...t,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return i});return r(t)},g3=yG(e=>{async function t(t,r={}){let n=await e.post("object/stat",{signal:r.signal,searchParams:yQ({arg:`${t}`,...r}),headers:r.headers}),i=await n.json();return{...i,Hash:ae.parse(i.Hash)}}return t}),g6=yG(e=>{async function t(t,r,n={}){let i=await e.post("object/patch/add-link",{signal:n.signal,searchParams:yQ({arg:[`${t}`,r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return ae.parse(o)}return t}),g4=yG(e=>{async function t(t,r,n={}){let i=new AbortController,o=bD(i.signal,n.signal),s=await e.post("object/patch/append-data",{signal:o,searchParams:yQ({arg:`${t}`,...n}),...await bT([r],i,n.headers)}),{Hash:a}=await s.json();return ae.parse(a)}return t}),g7=yG(e=>{async function t(t,r,n={}){let i=await e.post("object/patch/rm-link",{signal:n.signal,searchParams:yQ({arg:[`${t}`,r.Name||r.name||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return ae.parse(o)}return t}),g9=yG(e=>{async function t(t,r,n={}){let i=new AbortController,o=bD(i.signal,n.signal),s=await e.post("object/patch/set-data",{signal:o,searchParams:yQ({arg:[`${t}`],...n}),...await bT([r],i,n.headers)}),{Hash:a}=await s.json();return ae.parse(a)}return t});function me(e){return{addLink:g6(e),appendData:g4(e),rmLink:g7(e),setData:g9(e)}}function mt(e,t){return{data:g0(t),get:g1(t),links:g2(t),new:g5(t),put:g8(e,t),stat:g3(t),patch:me(t)}}async function*mr(e){if(null==e)throw hl(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let t=ae.asCID(e);if(t){yield mn({cid:t});return}if(e instanceof String||"string"==typeof e){yield mn({path:e});return}if(null!=e.cid||null!=e.path)return yield mn(e);if(Symbol.iterator in e){let r=e[Symbol.iterator](),n=r.next();if(n.done)return r;if(ae.asCID(n.value)||n.value instanceof String||"string"==typeof n.value){for(let i of(yield mn({cid:n.value}),r))yield mn({cid:i});return}if(null!=n.value.cid||null!=n.value.path){for(let o of(yield mn(n.value),r))yield mn(o);return}throw hl(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){let s=e[Symbol.asyncIterator](),a=await s.next();if(a.done)return s;if(ae.asCID(a.value)||a.value instanceof String||"string"==typeof a.value){for await(let u of(yield mn({cid:a.value}),s))yield mn({cid:u});return}if(null!=a.value.cid||null!=a.value.path){for await(let c of(yield mn(a.value),s))yield mn(c);return}}throw hl(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function mn(e){let t=e.cid||`${e.path}`;if(!t)throw hl(Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let r={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(r.metadata=e.metadata),r}let mi=yG(e=>{async function*t(t,r={}){for await(let{path:n,recursive:i,metadata:o}of mr(t)){let s=await e.post("pin/add",{signal:r.signal,searchParams:yQ({...r,arg:n,recursive:i,metadata:o?JSON.stringify(o):void 0,stream:!0}),headers:r.headers});for await(let a of s.ndjson()){if(a.Pins){for(let u of a.Pins)yield ae.parse(u);continue}yield ae.parse(a)}}}return t});function mo(e){let t=mi(e);return yG(()=>{async function e(e,r={}){return b5(t([{path:e,...r}],r))}return e})(e)}function ms(e,t,r){let n={type:e,cid:ae.parse(t)};return r&&(n.metadata=r),n}let ma=yG(e=>{async function*t(t={}){let r=[];t.paths&&(r=Array.isArray(t.paths)?t.paths:[t.paths]);let n=await e.post("pin/ls",{signal:t.signal,searchParams:yQ({...t,arg:r.map(e=>`${e}`),stream:!0}),headers:t.headers});for await(let i of n.ndjson()){if(i.Keys){for(let o of Object.keys(i.Keys))yield ms(i.Keys[o].Type,o,i.Keys[o].Metadata);return}yield ms(i.Type,i.Cid,i.Metadata)}}return t}),mu=yG(e=>{async function*t(t,r={}){for await(let{path:n,recursive:i}of mr(t)){let o=new URLSearchParams(r.searchParams);o.append("arg",`${n}`),null!=i&&o.set("recursive",String(i));let s=await e.post("pin/rm",{signal:r.signal,headers:r.headers,searchParams:yQ({...r,arg:`${n}`,recursive:i})});for await(let a of s.ndjson()){if(a.Pins){yield*a.Pins.map(e=>ae.parse(e));continue}yield ae.parse(a)}}}return t}),mc=e=>{let t=mu(e);return yG(()=>{async function e(e,r={}){return b5(t([{path:e,...r}],r))}return e})(e)},ml=({Name:e,Status:t,Cid:r})=>({cid:ae.parse(r),name:e,status:t}),mf=e=>{if("string"==typeof e&&""!==e)return e;throw TypeError("service name must be passed")},mh=e=>{if(ae.asCID(e))return e.toString();throw TypeError(`CID instance expected instead of ${typeof e}`)},md=({service:e,cid:t,name:r,status:n,all:i})=>{let o=yQ({service:mf(e),name:r,force:!!i||void 0});if(t)for(let s of t)o.append("cid",mh(s));if(n)for(let a of n)o.append("status",a);return o},mp=({cid:e,service:t,background:r,name:n,origins:i})=>{let o=yQ({arg:mh(e),service:mf(t),name:n,background:!!r||void 0});if(i)for(let s of i)o.append("origin",s.toString());return o};function my(e){async function t(t,{timeout:r,signal:n,headers:i,...o}){let s=await e.post("pin/remote/add",{timeout:r,signal:n,headers:i,searchParams:mp({cid:t,...o})});return ml(await s.json())}return t}function mb(e){async function*t({timeout:t,signal:r,headers:n,...i}){let o=await e.post("pin/remote/ls",{timeout:t,signal:r,headers:n,searchParams:md(i)});for await(let s of o.ndjson())yield ml(s)}return t}function mg(e){async function t({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:md({...i,all:!1})})}return t}function mm(e){async function t({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:md({...i,all:!0})})}return t}function mw(e){let t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}function mv(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:mE(e.Stat)}}}function mE(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:r,Queued:n,Failed:i}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function mx(e){async function t(t,r){let{endpoint:n,key:i,headers:o,timeout:s,signal:a}=r;await e.post("pin/remote/service/add",{timeout:s,signal:a,searchParams:yQ({arg:[t,mw(n),i]}),headers:o})}return t}function mA(e){async function t(t={}){let{stat:r,headers:n,timeout:i,signal:o}=t,s=await e.post("pin/remote/service/ls",{timeout:i,signal:o,headers:n,searchParams:!0===r?yQ({stat:r}):void 0}),{RemoteServices:a}=await s.json();return a.map(mv)}return t}function mC(e){async function t(t,r={}){await e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:yQ({arg:t})})}return t}function mS(e){let t=new yW(e);return{add:mx(t),ls:mA(t),rm:mC(t)}}function mk(e){let t=new yW(e);return{add:my(t),ls:mb(t),rm:mg(t),rmAll:mm(t),service:mS(e)}}function mP(e){return{addAll:mi(e),add:mo(e),ls:ma(e),rmAll:mu(e),rm:mc(e),remote:mk(e)}}let mU=e=>Array.isArray(e)?e.map(mT):e,mT=e=>cX(mI(e)),mI=e=>sv.decode(e),mN=e=>BigInt(`0x${cX(sv.decode(e),"base16")}`),mD=e=>sv.encode(fR(e)),mj=yG(e=>{async function t(t={}){let{Strings:r}=await (await e.post("pubsub/ls",{signal:t.signal,searchParams:yQ(t),headers:t.headers})).json();return mU(r)||[]}return t}),mB=yG(e=>{async function t(t,r={}){let n=await e.post("pubsub/peers",{signal:r.signal,searchParams:yQ({arg:mD(t),...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}return t}),m$=yG(e=>{async function t(t,r,n={}){let i=yQ({arg:mD(t),...n}),o=new AbortController,s=bD(o.signal,n.signal),a=await e.post("pubsub/pub",{signal:s,searchParams:i,...await bT([r],o,n.headers)});await a.text()}return t}),mL=hH("ipfs-http-client:pubsub:subscribe"),mz=(e,t)=>yG(e=>{async function r(r,n,i={}){i.signal=t.subscribe(r,n,i.signal);let o,s,a=new Promise((e,t)=>{o=e,s=t}),u=setTimeout(()=>o(),1e3);return e.post("pubsub/sub",{signal:i.signal,searchParams:yQ({arg:mD(r),...i}),headers:i.headers}).catch(e=>{t.unsubscribe(r,n),s(e)}).then(e=>{clearTimeout(u),e&&(mO(e,{onMessage(e){if(n){if("function"==typeof n){n(e);return}"function"==typeof n.handleEvent&&n.handleEvent(e)}},onEnd:()=>t.unsubscribe(r,n),onError:i.onError}),o())}),a}return r})(e);async function mO(e,{onMessage:t,onEnd:r,onError:n}){n=n||mL;try{for await(let i of e.ndjson())try{if(!i.from)continue;t(null!=i.from&&null!=i.seqno?{type:"signed",from:be(i.from),data:mI(i.data),sequenceNumber:mN(i.seqno),topic:mT(i.topicIDs[0]),key:mI(i.key??"u"),signature:mI(i.signature??"u")}:{type:"unsigned",data:mI(i.data),topic:mT(i.topicIDs[0])})}catch(o){o.message=`Failed to parse pubsub message: ${o.message}`,n(o,!1,i)}}catch(s){mR(s)||n(s,!0)}finally{r()}}let mR=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}},mM=(e,t)=>{async function r(e,r){t.unsubscribe(e,r)}return r};class mF{constructor(){this._subs=new Map}subscribe(e,t,r){let n=this._subs.get(e)||[];if(n.find(e=>e.handler===t))throw Error(`Already subscribed to ${e} with this handler`);let i=new AbortController;return this._subs.set(e,[{handler:t,controller:i}].concat(n)),r&&r.addEventListener("abort",()=>this.unsubscribe(e,t)),i.signal}unsubscribe(e,t){let r=this._subs.get(e)||[],n;t?(this._subs.set(e,r.filter(e=>e.handler!==t)),n=r.filter(e=>e.handler===t)):(this._subs.set(e,[]),n=r),(this._subs.get(e)||[]).length||this._subs.delete(e),n.forEach(e=>e.controller.abort())}}function mV(e){let t=new mF;return{ls:mj(e),peers:mB(e),publish:m$(e),subscribe:mz(e,t),unsubscribe:mM(e,t)}}let m_=yG(e=>{async function*t(t={}){let r=await e.post("refs/local",{signal:t.signal,transform:bq,searchParams:yQ(t),headers:t.headers});yield*r.ndjson()}return t}),mH=yG((e,t)=>{let r=async function*(t,r={}){let n=Array.isArray(t)?t:[t],i=await e.post("refs",{signal:r.signal,searchParams:yQ({arg:n.map(e=>`${e instanceof Uint8Array?ae.decode(e):e}`),...r}),headers:r.headers,transform:bq});yield*i.ndjson()};return Object.assign(r,{local:m_(t)})}),mq=yG(e=>{async function*t(t={}){let r=await e.post("repo/gc",{signal:t.signal,searchParams:yQ(t),headers:t.headers,transform:e=>({err:e.Error?Error(e.Error):null,cid:(e.Key||{})["/"]?ae.parse(e.Key["/"]):null})});yield*r.ndjson()}return t}),mJ=yG(e=>{async function t(t={}){let r=await e.post("repo/stat",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),n=await r.json();return{numObjects:BigInt(n.NumObjects),repoSize:BigInt(n.RepoSize),repoPath:n.RepoPath,version:n.Version,storageMax:BigInt(n.StorageMax)}}return t}),mW=yG(e=>{async function t(t={}){let r=await (await e.post("repo/version",{signal:t.signal,searchParams:yQ(t),headers:t.headers})).json();return r.Version}return t});function mG(e){return{gc:mq(e),stat:mJ(e),version:mW(e)}}let mK=yG(e=>{async function*t(t={}){let r=await e.post("stats/bw",{signal:t.signal,searchParams:yQ(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*r.ndjson()}return t});function mZ(e){return{bitswap:bn(e),repo:mJ(e),bw:mK(e)}}let mQ=yG(e=>{async function t(t={}){let r=await e.post("swarm/addrs",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),{Addrs:n}=await r.json();return Object.keys(n).map(e=>({id:be(e),addrs:(n[e]||[]).map(e=>hv(e))}))}return t}),mX=yG(e=>{async function t(t,r={}){let n=await e.post("swarm/connect",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}return t}),mY=yG(e=>{async function t(t,r={}){let n=await e.post("swarm/disconnect",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}return t}),m0=yG(e=>{async function t(t={}){let r=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),{Strings:n}=await r.json();return(n||[]).map(e=>hv(e))}return t}),m1=yG(e=>{async function t(t={}){let r=await e.post("swarm/peers",{signal:t.signal,searchParams:yQ(t),headers:t.headers}),{Peers:n}=await r.json();return(n||[]).map(e=>({addr:hv(e.Addr),peer:be(e.Peer),muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"}))}return t});function m2(e){return{addrs:mQ(e),connect:mX(e),disconnect:mY(e),localAddrs:m0(e),peers:m1(e)}}let m5=yG(e=>{async function*t(t,r={}){let n=new AbortController,i=bD(n.signal,r.signal),{headers:o,body:s,total:a,parts:u}=await bT(t,n,r.headers),[c,l]="function"==typeof r.progress?m8(a,u,r.progress):[void 0,void 0],f=await e.post("add",{searchParams:yQ({"stream-channels":!0,...r,progress:Boolean(c)}),onUploadProgress:l,signal:i,headers:o,body:s});for await(let h of f.ndjson())void 0!==(h=bq(h)).hash?yield m6(h):c&&c(h.bytes||0,h.name)}return t}),m8=(e,t,r)=>t?[void 0,m3(e,t,r)]:[r,void 0],m3=(e,t,r)=>{let n=0,i=t.length;return({loaded:o,total:s})=>{let a=Math.floor(o/s*e);for(;n<i;){let{start:u,end:c,name:l}=t[n];if(a<c){r(a-u,l);break}r(c-u,l),n+=1}}};function m6({name:e,hash:t,size:r,mode:n,mtime:i,mtimeNsecs:o}){let s={path:e,cid:ae.parse(t),size:parseInt(r)};return null!=n&&(s.mode=parseInt(n,8)),null!=i&&(s.mtime={secs:i,nsecs:o||0}),s}function m4(e){return"function"==typeof e.stream?bc(e.stream()):bc(new Response(e).body)}async function*m7(e){yield e}async function m9(e){if(bf(e))return m7(we(e));if("string"==typeof e||e instanceof String)return m7(we(e.toString()));if(bh(e))return m4(e);if(bp(e)&&(e=bc(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=bu(e),{value:r,done:n}=await t.peek();if(n)return m7(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return m7(Uint8Array.from(await bl(t)));if(bf(r)||"string"==typeof r||r instanceof String)return bg(t,we)}throw hl(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function we(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):fR(e.toString())}async function*wt(e,t){if(null==e)throw hl(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof e||e instanceof String){yield wr(e.toString(),t);return}if(bf(e)||bh(e)){yield wr(e,t);return}if(bp(e)&&(e=bc(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=bu(e),{value:n,done:i}=await r.peek();if(i){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||bf(n)||"string"==typeof n||n instanceof String){yield wr(r,t);return}throw hl(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(bd(e)){yield wr(e,t);return}throw hl(Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function wr(e,t){let{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:bA(n),mtime:bC(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function wn(e){return wt(e,m9)}function wi(e){let t=m5(e);return yG(()=>{async function e(e,r={}){return await b5(t(wn(e),r))}return e})(e)}let wo=yG(e=>{async function*t(t,r={}){let n=await e.post("cat",{signal:r.signal,searchParams:yQ({arg:t.toString(),...r}),headers:r.headers});yield*n.iterator()}return t}),ws=yG(e=>{let t=async(t={})=>{let r=await e.post("commands",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return r.json()};return t}),wa=yG(e=>{let t=async(t,r={})=>{let n=await e.post("dns",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),i=await n.json();return i.Path};return t}),wu=yG(e=>()=>{let t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}),wc=yG(e=>{async function*t(t,r={}){let n={arg:`${t instanceof Uint8Array?ae.decode(t):t}`,...r};n.compressionLevel&&(n["compression-level"]=n.compressionLevel,delete n.compressionLevel);let i=await e.post("get",{signal:r.signal,searchParams:yQ(n),headers:r.headers});yield*i.iterator()}return t}),wl=yG(e=>{async function t(t={}){let r=await e.post("id",{signal:t.signal,searchParams:yQ({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),n=await r.json(),i={...bq(n)};return i.id=be(i.id),i.addresses&&(i.addresses=i.addresses.map(e=>hv(e))),i}return t}),wf=e=>{let t=wl(e);async function r(e={}){let r=await t(e);return Boolean(r&&r.addresses&&r.addresses.length)}return r},wh=yG((e,t)=>{async function*r(r,n={}){let i=`${r instanceof Uint8Array?ae.decode(r):r}`;async function o(e){let r=e.Hash;if(r.includes("/")){let n=r.startsWith("/ipfs/")?r:`/ipfs/${r}`,o=await gI(t)(n);r=o.cid}else r=ae.parse(r);let s={name:e.Name,path:i+(e.Name?`/${e.Name}`:""),size:e.Size,cid:r,type:wd(e)};return e.Mode&&(s.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(s.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(s.mtime.nsecs=e.MtimeNsecs)),s}let s=await e.post("ls",{signal:n.signal,searchParams:yQ({arg:i,...n}),headers:n.headers});for await(let a of s.ndjson()){if(!(a=a.Objects))throw Error("expected .Objects in results");if(!(a=a[0]))throw Error("expected one array in results.Objects");let u=a.Links;if(!Array.isArray(u))throw Error("expected one array in results.Objects[0].Links");if(!u.length){yield o(a);return}yield*u.map(o)}}return r});function wd(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}let wp=yG(e=>{async function t(t={}){let r=await e.post("dns",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return bq(await r.json())}return t}),wy=yG(e=>{async function*t(t,r={}){let n=await e.post("ping",{signal:r.signal,searchParams:yQ({arg:`${t}`,...r}),headers:r.headers,transform:bq});yield*n.ndjson()}return t}),wb=yG(e=>{async function t(t,r={}){let n=await e.post("resolve",{signal:r.signal,searchParams:yQ({arg:t,...r}),headers:r.headers}),{Path:i}=await n.json();return i}return t}),wg=yG(e=>{let t=async(e={})=>{throw hl(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return t}),wm=yG(e=>{async function t(t={}){let r=await e.post("shutdown",{signal:t.signal,searchParams:yQ(t),headers:t.headers});await r.text()}return t}),ww=yG(e=>{async function t(t={}){let r=await e.post("version",{signal:t.signal,searchParams:yQ(t),headers:t.headers});return{...bq(await r.json()),"ipfs-http-client":"1.0.0"}}return t});function wv(e={}){let t={name:aN.name,code:aN.code,encode:e=>e,decode:e=>e},r=Object.values(a4);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(e=>r.push(e));let n=new ep({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),i=Object.values(a9);[a,u,c,d,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(e=>i.push(e));let o=new eb({codecs:i,loadCodec:e.ipld&&e.ipld.loadCodec}),s=Object.values(a7);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(e=>s.push(e));let l=new em({hashers:s,loadHasher:e.ipld&&e.ipld.loadHasher}),f={add:wi(e),addAll:m5(e),bitswap:bs(e),block:bz(e),bootstrap:b_(e),cat:wo(e),commands:ws(e),config:bY(e),dag:b7(o,e),dht:gp(e),diag:gm(e),dns:wa(e),files:gB(e),get:wc(e),getEndpointConfig:wu(e),id:wl(e),isOnline:wf(e),key:gV(e),log:gJ(e),ls:wh(e),mount:wp(e),name:gY(e),object:mt(o,e),pin:mP(e),ping:wy(e),pubsub:mV(e),refs:mH(e),repo:mG(e),resolve:wb(e),start:wg(e),stats:mZ(e),stop:wm(e),swarm:m2(e),version:ww(e),bases:n,codecs:o,hashers:l};return f}r(63897),r(46953)}}]);